# UML简介

Unified Modeling Language (UML)又称统一建模语言或标准建模语言。

简单说就是以图形方式表现模型，根据不同模型进行分类，在UML 2.0中有13种图，以下是他们的主要用途简介：

```css
1.用例图：对系统的使用方式分类.

2.类图:显示类和它们的相互关系。

3.对象图：只显示对象及它们的相互关系。

4.活动图：显示人或对象的活动，其方式类似于流程图。

5.状态机图：显示生命周期比较有趣或复杂的对象的各种状态。

6.通信图：显示在某种情形下对象之间发送的消息。

7.顺序图：显示与通信图类以的信息，但强调的是顺序，而不是连接。

8.包图：显示相关的类如何组合，对开发人员有用。

9.部署图：显示安装已完成系统的机器、过程和部署制品。

10.组件图：显示可重用的组件（对象或子系统）及期接口。

11.交互总图：使用顺序图喧赤活动的务个步骤。

12.时间图：显示消息和对象状态的准确时间限制。

13.复合结构图：显示对象在聚合或复合中的相互关系，显示接口和协作的对象 
```

常用的 UML 图可分静（态）图、动（态）图两类：

> 静态图主要描绘软件的静态结构，而动态图主要描绘软件的动态行为。
>
> 常用 UML 动态图（5 个）：用例图，活动图，状态机图，序列图，通信图 
>
> 常用 UML 静态图（4 个）：类图，包图，部署图，构件图

## 类图

### 简介

在所有UML图中，类图是使用频率最高的UML图。

类图主要关系有：泛化（Generalization）,  实现（Realization），关联（Association)，聚合（Aggregation），组合(Composition)，依赖(Dependency)

类图主要关系可分为两种：横向关系、纵向关系：纵向关系就是泛化和实现，而横向关系就是剩下的 4 种;

它们的强弱关系：依赖 < 关联 < 聚合 < 组合 < 实现 = 泛化

**定义：显示出类、接口以及它们之间的静态结构和关系；它用于描述系统的结构化设计。**

**类型：静态图**

**应用：设计阶段**

### 主要关系

#### 泛化（Generalization）

【泛化关系】：是一种继承关系，表示一般与特殊的关系，它指定了子类如何特化父类的所有特征和行为。例如：苹果树是树的一种，即有苹果树的特性也有树的共性。

【代码体现】：类继承另一个类

【箭头指向】：带三角箭头的实线，箭头指向父类

![8ACADB77-A290-4EB8-9E01-DA04655EF32C](https://tva1.sinaimg.cn/large/007S8ZIlly1ggdufii0naj30d507hjtl.jpg)

#### 实现（Realization）

【实现关系】：是一种类与接口的关系，表示类是接口所有特征和行为的实现.

【代码体现】：类实现接口成员

【箭头指向】：带三角箭头的虚线，箭头指向接口

![F2792BFB-4E8A-46CC-A6CF-39EDF9E81BB4](https://tva1.sinaimg.cn/large/007S8ZIlly1ggdug01qq5j30fh05w761.jpg)

#### 关联（Association)

【关联关系】：是一种拥有的关系，它使一个类知道另一个类的属性和方法；

【代码体现】：成员变量

【箭头及指向】：带普通箭头的实心线，指向被拥有者

> 单向关联：员工都是与一个企业
>
> 双向关联：一家供货商可以向多个顾客供货，一个顾 客也可以向多家供货商进货
>
> 自身关联（反身关联）：在系统中可能会存在一些类的属性对象类型为该类本身，这种特殊的关联关系称为自关联。顾客自身需要用到自己对象时，自己引用自己，带着一个自己的引用。

![34916B22-97A3-4D62-9F09-A1D923DF3160](https://tva1.sinaimg.cn/large/007S8ZIlly1ggdugafzzrj30fu07awgc.jpg)

> 上图，表示企业和员工的关联关系，员工都属于一个企业
>
> 除此之外，关联关系允许互相关联，比如夫妻关系，可以互相关联。也允许自关联，即自己也是自己的成员之一。

#### 聚合（Aggregation）

【聚合关系】：是整体与部分的关系，且部分可以离开整体而单独存在。如车和轮胎是整体和部分的关系，轮胎离开车仍然可以存在。

> 聚合关系是关联关系的一种，是强的关联关系；关联和聚合在语法上无法区分，必须考察具体的逻辑关系。 

【代码体现】：成员变量

【箭头及指向】：带空心菱形的实心线，菱形指向整体

![E3D76626-B439-4CEB-8395-62B5B5AFB399](https://tva1.sinaimg.cn/large/007S8ZIlly1ggduiuo9t1j30av0bdacc.jpg)

#### 组合(Composition)

【组合关系】：是整体与部分的关系，但部分不能离开整体而单独存在。如公司和部门是整体和部分的关系，没有公司就不存在部门。

> 组合关系是关联关系的一种，是比聚合关系还要强的关系，它要求普通的聚合关系中代表整体的对象负责代表部分的对象的生命周期。 

【代码体现】：成员变量

【箭头及指向】：带实心菱形的实线，菱形指向整体

![30B3B61E-53AC-4C85-A3B0-68626129833F](https://tva1.sinaimg.cn/large/007S8ZIlly1ggduk8shnjj305z0cx406.jpg)

#### 依赖(Dependency)

【依赖关系】：是一种使用的关系，即一个类的实现需要另一个类的协助，所以要尽量不使用双向的互相依赖.

【代码表现】：局部变量、方法的参数或者对静态方法的调用

【箭头及指向】：带箭头的虚线，指向被使用者

> 例如：程序员需要依赖计算机
>

![6E494F38-222A-49AF-A15E-8628B3F01CD0](https://tva1.sinaimg.cn/large/007S8ZIlly1ggdulp9oqcj305o0audha.jpg)

### 综合图例

> 依赖 < 关联 < 聚合 < 组合 < 实现 = 泛化

![7F3B53E2-5692-420B-A688-587BB7D0AB52](https://tva1.sinaimg.cn/large/007S8ZIlly1ggduoqtsfwj30lg0hwq8d.jpg)

### 符号含义

UML是一种统一建模语言，在使用过程中就有统一的细节表示，下面是几种通用的表示方法，不论你使用什么工具，总体表示差异不大。

**类：**抽象类，类名使用用斜体显示。

**字段、属性、方法：**

> ‘+’表示public
>
> ‘-’表示private
>
> ‘#’表示protected

**接口：**与类图的区别主要是顶端有<\<interface>>显示

### 重数性关联

重数性关联: 表示一个类的对象与另一个类的对象连接的个数。 

在 UML 中多重性关系可以直接在关联直线上增加一个数字表示与之对应的另一个类 的对象的个数。在关联的两端可写上一个被称为重数的范围，表示该类有多少个对象可与 对方一个对象连接，重数的默认值为 1，重数的符号通常有：

| 表示方式 | 多重性说明                                                   |
| -------- | ------------------------------------------------------------ |
| 1..1     | 表示“1”，表示另一个类的一个对象只与一个该类对象有关系        |
| 0..*     | 表示“零或多”，表示另一个类的一个对象与零个或多个该类对象有关系 |
| 1..*     | 表示“1 或多” ，表示另一个类的一个对象与一个或多个该类对象有关系 |
| 0..1     | 表示“零或 1”，表示另一个类的一个对象没有或只与一个该类对象有关系 |
| m..n     | 表示“[m,n]”，表示另一个类的一个对象与最少m、最多n个该类对象有关系 (m<=n) |