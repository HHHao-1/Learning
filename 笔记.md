<center><font size=7><b>HHHAoçš„ç¬”è®°æœ¬ ğŸ“’</b></font></center>


# ç‰ˆæœ¬æ§åˆ¶
## Git 
### GITåŸç†

#### 1. å·¥ä½œæµ

```css
å…‹éš† Git èµ„æºä½œä¸ºå·¥ä½œç›®å½•ã€‚
åœ¨å…‹éš†çš„èµ„æºä¸Šæ·»åŠ æˆ–ä¿®æ”¹æ–‡ä»¶ã€‚
å¦‚æœå…¶ä»–äººä¿®æ”¹äº†ï¼Œä½ å¯ä»¥æ›´æ–°èµ„æºã€‚
åœ¨æäº¤å‰æŸ¥çœ‹ä¿®æ”¹ã€‚
æäº¤ä¿®æ”¹ã€‚
åœ¨ä¿®æ”¹å®Œæˆåï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œå¯ä»¥æ’¤å›æäº¤å¹¶å†æ¬¡ä¿®æ”¹å¹¶æäº¤ã€‚
```
![59c31e4400013bc911720340](https://tva1.sinaimg.cn/large/007S8ZIlly1gf9fhb12v0j30wk09gdg2.jpg)


### å¿«é€Ÿä½¿ç”¨


```shell
$ git init

$ git add æ–‡ä»¶å

# æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº
$ git add .

$ git commmit -m  "ä»£ç æäº¤ä¿¡æ¯"

$ git remote add origin(è¿œç¨‹ä»“åº“å) é“¾æ¥

$ git push origin master

$ git push origin HEAD:test

$ git pull [remote] [branch]

$ git status

$ git log

# ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨
$ git fetch [remote]

# ç®¡ç†è¿œç¨‹ä»“åº“
$ git remote rm origin
$ git remote set-url origin é“¾æ¥
$ git remote -v

#å…‹éš†:æœ¬åœ°/è¿œç¨‹SSH/è¿œç¨‹HTTPS
$ git clone /path/to/repository
$ git clone username@host:/path/to/repository
$ git clone è¿æ¥åœ°å€
```


### Gitå‘½ä»¤å¤§å…¨

#### 1. æ–°å»ºä»£ç åº“

```shell
# åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“
$ git init

# æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“
$ git init [project-name]

# ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²
```
#### 2. é…ç½®
```shell
# æ˜¾ç¤ºå½“å‰çš„Gité…ç½®
$ git config --list

# ç¼–è¾‘Gité…ç½®æ–‡ä»¶
$ git config -e [--global]

# è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯
$ git config [--global] user.name "[name]"
$ git config [--global] user.email "[email address]"
```
#### 3. å¢åŠ /åˆ é™¤æ–‡ä»¶
```shell
# æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº
$ git add [file1] [file2] ...

# æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•
$ git add [dir]

# æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº
$ git add .

# æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤
# å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤
$ git add -p

# åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº
$ git rm [file1] [file2] ...

# åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº
$ git rm --cached [file]

# æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº
$ git mv [file-original] [file-renamed]
```
#### 4. ä»£ç æäº¤

```shell
# æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº
$ git commit -m [message]

# æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº
$ git commit [file1] [file2] ... -m [message]

# æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº
$ git commit -a

# æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯
$ git commit -v

# ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤
# å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯
$ git commit --amend -m [message]

# é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–
$ git commit --amend [file1] [file2] ...
```
#### 5. åˆ†æ”¯

```shell
# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯
$ git branch
 
# åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯
$ git branch -r
 
# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯
$ git branch -a
 
# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯
$ git branch [branch-name]
 
# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯
$ git checkout -b [branch]
 
# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit
$ git branch [branch] [commit]
 
# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»
$ git branch --track [branch] [remote-branch]
 
# åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº
$ git checkout [branch-name]
 
# åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯
$ git checkout -
 
# å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´
$ git branch --set-upstream [branch] [remote-branch]
 
# åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯
$ git merge [branch]
 
# é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯
$ git cherry-pick [commit]
 
# åˆ é™¤åˆ†æ”¯
$ git branch -d [branch-name]
 
# åˆ é™¤è¿œç¨‹åˆ†æ”¯
$ git push origin --delete [branch-name]
$ git branch -dr [remote/branch]
```
#### 6. æ ‡ç­¾

```shell
# åˆ—å‡ºæ‰€æœ‰tag
$ git tag
 
# æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit
$ git tag [tag]
 
# æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit
$ git tag [tag] [commit]
 
# åˆ é™¤æœ¬åœ°tag
$ git tag -d [tag]
 
# åˆ é™¤è¿œç¨‹tag
$ git push origin :refs/tags/[tagName]
 
# æŸ¥çœ‹tagä¿¡æ¯
$ git show [tag]
 
# æäº¤æŒ‡å®štag
$ git push [remote] [tag]
 
# æäº¤æ‰€æœ‰tag
$ git push [remote] --tags
 
# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag
$ git checkout -b [branch] [tag]
```
#### 7.è¿œç¨‹åŒæ­¥

```shell
# ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨
$ git fetch [remote]
 
# æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“
$ git remote -v
 
# æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯
$ git remote show [remote]
 
# å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å
$ git remote add [shortname] [url]
 
# å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶
$ git pull [remote] [branch]
 
# ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“
$ git push [remote] [branch]
 
# å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª
$ git push [remote] --force
 
# æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“
$ git push [remote] --all
```
#### 8. æŸ¥çœ‹ä¿¡æ¯

```shell
# æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶
$ git status
 
# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²
$ git log
 
# æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶
$ git log --stat
 
# æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯
$ git log -S [keyword]
 
# æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ
$ git log [tag] HEAD --pretty=format:%s
 
# æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶"æäº¤è¯´æ˜"å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶
$ git log [tag] HEAD --grep feature
 
# æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å
$ git log --follow [file]
$ git whatchanged [file]
 
# æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff
$ git log -p [file]
 
# æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤
$ git log -5 --pretty --oneline
 
# æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº
$ git shortlog -sn
 
# æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡
$ git blame [file]
 
# æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚
$ git diff
 
# æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚
$ git diff --cached [file]
 
# æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚
$ git diff HEAD
 
# æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚
$ git diff [first-branch]...[second-branch]
 
# æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç 
$ git diff --shortstat "@{0 day ago}"
 
# æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–
$ git show [commit]
 
# æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶
$ git show --name-only [commit]
 
# æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹
$ git show [commit]:[filename]
 
# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤
$ git reflog

#æŸ¥çœ‹ç”¨æˆ·åå’Œé‚®ç®±åœ°å€
$ git config user.name
$ git config user.email

#ä¿®æ”¹ç”¨æˆ·åå’Œé‚®ç®±åœ°å€
$  git config --global user.name  "xxxx"
S  git config --global user.email  "xxxx"
```
#### 9. æ’¤é”€

```shell
# æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº
$ git checkout [file]
 
# æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº
$ git checkout [commit] [file]
 
# æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº
$ git checkout .
 
# é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜
$ git reset [file]
 
# é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´
$ git reset --hard
 
# é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜
$ git reset [commit]
 
# é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´
$ git reset --hard [commit]
 
# é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜
$ git reset --keep [commit]
 
# æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit
# åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯
$ git revert [commit]
 
# æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥
$ git stash
$ git stash pop
```
#### 10. å¿½ç•¥æ–‡ä»¶
**.gitignoreå¿½ç•¥ä¼˜å…ˆçº§**

```css
åœ¨ .gitingore æ–‡ä»¶ä¸­ï¼Œæ¯ä¸€è¡ŒæŒ‡å®šä¸€ä¸ªå¿½ç•¥è§„åˆ™ï¼ŒGit æ£€æŸ¥å¿½ç•¥è§„åˆ™çš„æ—¶å€™æœ‰å¤šä¸ªæ¥æºï¼Œå®ƒçš„ä¼˜å…ˆçº§å¦‚ä¸‹ï¼ˆç”±é«˜åˆ°ä½ï¼‰ï¼š
- ä»å‘½ä»¤è¡Œä¸­è¯»å–å¯ç”¨çš„å¿½ç•¥è§„åˆ™
- å½“å‰ç›®å½•å®šä¹‰çš„è§„åˆ™
- çˆ¶çº§ç›®å½•å®šä¹‰çš„è§„åˆ™ï¼Œä¾æ¬¡é€’æ¨
- $GIT_DIR/info/exclude æ–‡ä»¶ä¸­å®šä¹‰çš„è§„åˆ™
- core.excludesfileä¸­å®šä¹‰çš„å…¨å±€è§„åˆ™
```

  **.gitignoreåŒ¹é…è¯­æ³•**

```css
åœ¨ .gitignore æ–‡ä»¶ä¸­ï¼Œæ¯ä¸€è¡Œçš„å¿½ç•¥è§„åˆ™çš„è¯­æ³•å¦‚ä¸‹ï¼š
- ç©ºæ ¼ä¸åŒ¹é…ä»»æ„æ–‡ä»¶ï¼Œå¯ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå¯ç”¨åæ–œæ è½¬ä¹‰
- \# å¼€å¤´çš„æ–‡ä»¶æ ‡è¯†æ³¨é‡Šï¼Œå¯ä»¥ä½¿ç”¨åæ–œæ è¿›è¡Œè½¬ä¹‰
- ! å¼€å¤´çš„æ¨¡å¼æ ‡è¯†å¦å®šï¼Œè¯¥æ–‡ä»¶å°†ä¼šå†æ¬¡è¢«åŒ…å«ï¼Œå¦‚æœæ’é™¤äº†è¯¥æ–‡ä»¶çš„çˆ¶çº§ç›®å½•ï¼Œåˆ™ä½¿ç”¨ ! ä¹Ÿä¸ä¼šå†æ¬¡è¢«åŒ…å«ã€‚å¯ä»¥ä½¿ç”¨åæ–œæ è¿›è¡Œè½¬ä¹‰
- / ç»“æŸçš„æ¨¡å¼åªåŒ¹é…æ–‡ä»¶å¤¹ä»¥åŠåœ¨è¯¥æ–‡ä»¶å¤¹è·¯å¾„ä¸‹çš„å†…å®¹ï¼Œä½†æ˜¯ä¸åŒ¹é…è¯¥æ–‡ä»¶
- / å¼€å§‹çš„æ¨¡å¼åŒ¹é…é¡¹ç›®è·Ÿç›®å½•
- å¦‚æœä¸€ä¸ªæ¨¡å¼ä¸åŒ…å«æ–œæ ï¼Œåˆ™å®ƒåŒ¹é…ç›¸å¯¹äºå½“å‰ .gitignore æ–‡ä»¶è·¯å¾„çš„å†…å®¹ï¼Œå¦‚æœè¯¥æ¨¡å¼ä¸åœ¨ .gitignore æ–‡ä»¶ä¸­ï¼Œåˆ™ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•
- ** åŒ¹é…å¤šçº§ç›®å½•ï¼Œå¯åœ¨å¼€å§‹ï¼Œä¸­é—´ï¼Œç»“æŸ
- ? é€šç”¨åŒ¹é…å•ä¸ªå­—ç¬¦
- [] é€šç”¨åŒ¹é…å•ä¸ªå­—ç¬¦åˆ—è¡¨
```
**å¸¸ç”¨åŒ¹é…ç¤ºä¾‹**

```css
- bin/: å¿½ç•¥å½“å‰è·¯å¾„ä¸‹çš„binæ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«å¿½ç•¥ï¼Œä¸å¿½ç•¥ bin æ–‡ä»¶
- /bin: å¿½ç•¥æ ¹ç›®å½•ä¸‹çš„binæ–‡ä»¶
- /*.c: å¿½ç•¥ cat.cï¼Œä¸å¿½ç•¥ build/cat.c
- debug/*.obj: å¿½ç•¥ debug/io.objï¼Œä¸å¿½ç•¥ debug/common/io.obj å’Œ tools/debug/io.obj
- **/foo: å¿½ç•¥/foo, a/foo, a/b/fooç­‰
- a/**/b: å¿½ç•¥a/b, a/x/b, a/x/y/bç­‰
- !/bin/run.sh: ä¸å¿½ç•¥ bin ç›®å½•ä¸‹çš„ run.sh æ–‡ä»¶
- *.log: å¿½ç•¥æ‰€æœ‰ .log æ–‡ä»¶
- config.php: å¿½ç•¥å½“å‰è·¯å¾„çš„ config.php æ–‡ä»¶
```
**å¿½ç•¥ä¸ç”Ÿæ•ˆ**
		.gitignoreåªèƒ½å¿½ç•¥é‚£äº›åŸæ¥æ²¡æœ‰è¢«trackçš„æ–‡ä»¶ï¼Œå¦‚æœæŸäº›æ–‡ä»¶å·²ç»è¢«çº³å…¥äº†ç‰ˆæœ¬ç®¡ç†ä¸­ï¼Œåˆ™ä¿®æ”¹.gitignoreæ˜¯æ— æ•ˆçš„ã€‚è§£å†³æ–¹æ³•å°±æ˜¯å…ˆæŠŠæœ¬åœ°ç¼“å­˜åˆ é™¤ï¼ˆæ”¹å˜æˆæœªtrackçŠ¶æ€ï¼‰ï¼Œç„¶åå†æäº¤:

```shell
git rm -r --cached .``git add .``git commit -m ``'update .gitignore'
```

### é—®é¢˜è®°å½•

#### 1. githubæ— æ³•æ˜¾ç¤ºå›¾ç‰‡

- è¾“å…¥raw.githubusercontent.comæŸ¥è¯¢IPåœ°å€
- ä¿®æ”¹hostsæ–‡ä»¶:sudo vi /etc/hosts
- æ·»åŠ ä»¥ä¸‹å†…å®¹ä¿å­˜å³å¯ ï¼ˆIPåœ°å€æŸ¥è¯¢åç›¸åº”ä¿®æ”¹ï¼Œå¯ä»¥pingä¸åŒIPçš„å»¶æ—¶ é€‰æ‹©æœ€ä½³IPåœ°å€ï¼‰
```css
# GitHub Start
52.74.223.119 github.com
192.30.253.119 gist.github.com
54.169.195.247 api.github.com
185.199.111.153 assets-cdn.github.com
151.101.76.133 raw.githubusercontent.com
151.101.108.133 user-images.githubusercontent.com
151.101.76.133 gist.githubusercontent.com
151.101.76.133 cloud.githubusercontent.com
151.101.76.133 camo.githubusercontent.com
151.101.76.133 avatars0.githubusercontent.com
151.101.76.133 avatars1.githubusercontent.com
151.101.76.133 avatars2.githubusercontent.com
151.101.76.133 avatars3.githubusercontent.com
151.101.76.133 avatars4.githubusercontent.com
151.101.76.133 avatars5.githubusercontent.com
151.101.76.133 avatars6.githubusercontent.com
151.101.76.133 avatars7.githubusercontent.com
151.101.76.133 avatars8.githubusercontent.com
# GitHub End
```

## SVN 

### SVN åŸç†
#### SVN ç®€ä»‹
Subversion(SVN) æ˜¯ä¸€ä¸ªå¼€æºçš„ç‰ˆæœ¬æ§åˆ¶ç³»çµ±, ä¹Ÿå°±æ˜¯è¯´ Subversion ç®¡ç†ç€éšæ—¶é—´æ”¹å˜çš„æ•°æ®ã€‚ è¿™äº›æ•°æ®æ”¾ç½®åœ¨ä¸€ä¸ªä¸­å¤®èµ„æ–™æ¡£æ¡ˆåº“(repository) ä¸­ã€‚ è¿™ä¸ªæ¡£æ¡ˆåº“å¾ˆåƒä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶æœåŠ¡å™¨, ä¸è¿‡å®ƒä¼šè®°ä½æ¯ä¸€æ¬¡æ–‡ä»¶çš„å˜åŠ¨ã€‚ è¿™æ ·ä½ å°±å¯ä»¥æŠŠæ¡£æ¡ˆæ¢å¤åˆ°æ—§çš„ç‰ˆæœ¬, æˆ–æ˜¯æµè§ˆæ–‡ä»¶çš„å˜åŠ¨å†å²ã€‚

##### 1. SVN çš„ä¸€äº›æ¦‚å¿µ
**repositoryï¼ˆæºä»£ç åº“ï¼‰**:æºä»£ç ç»Ÿä¸€å­˜æ”¾çš„åœ°æ–¹

**Checkoutï¼ˆæå–ï¼‰**:å½“ä½ æ‰‹ä¸Šæ²¡æœ‰æºä»£ç çš„æ—¶å€™ï¼Œä½ éœ€è¦ä»repository checkoutä¸€ä»½

**Commitï¼ˆæäº¤ï¼‰**:å½“ä½ å·²ç»ä¿®æ”¹äº†ä»£ç ï¼Œä½ å°±éœ€è¦Commitåˆ°repository

**Updateï¼ˆæ›´æ–°ï¼‰**:å½“ä½ å·²ç»Checkoutäº†ä¸€ä»½æºä»£ç ï¼Œ Updateä¸€ä¸‹ä½ å°±å¯ä»¥å’ŒRepositoryä¸Šçš„æºä»£ç åŒæ­¥ï¼Œä½ æ‰‹ä¸Šçš„ä»£ç å°±ä¼šæœ‰æœ€æ–°çš„å˜æ›´

**æ—¥å¸¸å·¥ä½œæµç¨‹**ï¼šCheckoutï¼ˆå…‹éš†,ä¸€æ®µæ—¶é—´åï¼‰--> Update(è·å¾—æœ€æ–°çš„ä»£ç ) -->  ä½œå‡ºè‡ªå·±çš„ä¿®æ”¹å¹¶è°ƒè¯•æˆåŠŸ --> Commit(å¤§å®¶å°±å¯ä»¥çœ‹åˆ°ä½ çš„ä¿®æ”¹äº†) ã€‚

**Conflictï¼ˆå†²çªï¼‰**: å¦‚æœä¸¤ä¸ªç¨‹åºå‘˜åŒæ—¶ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶å‘¢, SVN å¯ä»¥åˆå¹¶è¿™ä¸¤ä¸ªç¨‹åºå‘˜çš„æ”¹åŠ¨ï¼Œå®é™…ä¸ŠSVNç®¡ç†æºä»£ç æ˜¯ä»¥è¡Œä¸ºå•ä½çš„ï¼Œå°±æ˜¯è¯´ä¸¤ä¸ªç¨‹åºå‘˜åªè¦ä¸æ˜¯ä¿®æ”¹äº†åŒä¸€è¡Œç¨‹åºï¼ŒSVNéƒ½ä¼šè‡ªåŠ¨åˆå¹¶ä¸¤ç§ä¿®æ”¹ã€‚å¦‚æœæ˜¯åŒä¸€è¡Œï¼ŒSVN ä¼šæç¤ºæ–‡ä»¶ Conflict,å†²çªï¼Œéœ€è¦æ‰‹åŠ¨ç¡®è®¤ã€‚

##### 2. SVN å·¥ä½œæµç¨‹
**åˆ›å»ºç‰ˆæœ¬åº“**

```css
ç‰ˆæœ¬åº“ç›¸å½“äºä¸€ä¸ªé›†ä¸­çš„ç©ºé—´ï¼Œç”¨äºå­˜æ”¾å¼€å‘è€…æ‰€æœ‰çš„å·¥ä½œæˆæœã€‚ç‰ˆæœ¬åº“ä¸ä»…èƒ½å­˜æ”¾æ–‡ä»¶ï¼Œè¿˜åŒ…æ‹¬äº†æ¯æ¬¡ä¿®æ”¹çš„å†å²ï¼Œå³æ¯ä¸ªæ–‡ä»¶çš„å˜åŠ¨å†å²ã€‚

Create æ“ä½œæ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬åº“ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹è¿™ä¸ªæ“ä½œåªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬åº“çš„æ—¶å€™ï¼Œä½ çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¼šè®©ä½ æä¾›ä¸€äº›ä¿¡æ¯æ¥æ ‡è¯†ç‰ˆæœ¬åº“ï¼Œä¾‹å¦‚åˆ›å»ºçš„ä½ç½®å’Œç‰ˆæœ¬åº“çš„åå­—ã€‚
```

**æ£€å‡º**

```css
Checkout æ“ä½œæ˜¯ç”¨æ¥ä»ç‰ˆæœ¬åº“åˆ›å»ºä¸€ä¸ªå·¥ä½œå‰¯æœ¬ã€‚å·¥ä½œå‰¯æœ¬æ˜¯å¼€å‘è€…ç§äººçš„å·¥ä½œç©ºé—´ï¼Œå¯ä»¥è¿›è¡Œå†…å®¹çš„ä¿®æ”¹ï¼Œç„¶åæäº¤åˆ°ç‰ˆæœ¬åº“ä¸­ã€‚
```
**æ›´æ–°**

```css
Update æ“ä½œæ˜¯ç”¨æ¥æ›´æ–°ç‰ˆæœ¬åº“çš„ã€‚è¿™ä¸ªæ“ä½œå°†å·¥ä½œå‰¯æœ¬ä¸ç‰ˆæœ¬åº“è¿›è¡ŒåŒæ­¥ã€‚ç”±äºç‰ˆæœ¬åº“æ˜¯ç”±æ•´ä¸ªå›¢é˜Ÿå…±ç”¨çš„ï¼Œå½“å…¶ä»–äººæäº¤äº†ä»–ä»¬çš„æ”¹åŠ¨ä¹‹åï¼Œä½ çš„å·¥ä½œå‰¯æœ¬å°±ä¼šè¿‡æœŸã€‚
```

**æ‰§è¡Œå˜æ›´**

```css
å½“æ£€å‡ºä¹‹åï¼Œä½ å°±å¯ä»¥åšå¾ˆå¤šæ“ä½œæ¥æ‰§è¡Œå˜æ›´ã€‚ç¼–è¾‘æ˜¯æœ€å¸¸ç”¨çš„æ“ä½œã€‚ä½ å¯ä»¥ç¼–è¾‘å·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¾‹å¦‚è¿›è¡Œæ–‡ä»¶çš„æ·»åŠ /åˆ é™¤æ“ä½œã€‚

ä½ å¯ä»¥æ·»åŠ ã€åˆ é™¤ã€Renameã€ç§»åŠ¨æ–‡ä»¶/ç›®å½•ã€‚ä½†æ˜¯è¿™äº›å˜æ›´çš„æ–‡ä»¶ç›®å½•ä¸ä¼šç«‹åˆ»æˆä¸ºç‰ˆæœ¬åº“çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯è¢«æ·»åŠ è¿›å¾…å˜æ›´åˆ—è¡¨ä¸­ï¼Œç›´åˆ°æ‰§è¡Œäº† commit æ“ä½œåæ‰ä¼šæˆä¸ºç‰ˆæœ¬åº“çš„ä¸€éƒ¨åˆ†ã€‚
```

**å¤æŸ¥å˜åŒ–**

```css
å½“ä½ æ£€å‡ºå·¥ä½œå‰¯æœ¬æˆ–è€…æ›´æ–°å·¥ä½œå‰¯æœ¬åï¼Œä½ çš„å·¥ä½œå‰¯æœ¬å°±è·Ÿç‰ˆæœ¬åº“å®Œå…¨åŒæ­¥äº†ã€‚ä½†æ˜¯å½“ä½ å¯¹å·¥ä½œå‰¯æœ¬è¿›è¡Œä¸€äº›ä¿®æ”¹ä¹‹åï¼Œä½ çš„å·¥ä½œå‰¯æœ¬ä¼šæ¯”ç‰ˆæœ¬åº“è¦æ–°ã€‚åœ¨ commit æ“ä½œä¹‹å‰å¤æŸ¥ä¸‹ä½ çš„ä¿®æ”¹æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ã€‚

Status æ“ä½œåˆ—å‡ºäº†å·¥ä½œå‰¯æœ¬ä¸­æ‰€è¿›è¡Œçš„å˜åŠ¨ã€‚æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ï¼Œä½ å¯¹å·¥ä½œå‰¯æœ¬çš„ä»»ä½•æ”¹åŠ¨éƒ½ä¼šæˆä¸ºå¾…å˜æ›´åˆ—è¡¨çš„ä¸€éƒ¨åˆ†ã€‚Status æ“ä½œå°±æ˜¯ç”¨æ¥æŸ¥çœ‹è¿™ä¸ªå¾…å˜æ›´åˆ—è¡¨ã€‚

Status æ“ä½œåªæ˜¯æä¾›äº†ä¸€ä¸ªå˜åŠ¨åˆ—è¡¨ï¼Œä½†å¹¶ä¸æä¾›å˜åŠ¨çš„è¯¦ç»†ä¿¡æ¯ã€‚ä½ å¯ä»¥ç”¨ diff æ“ä½œæ¥æŸ¥çœ‹è¿™äº›å˜åŠ¨çš„è¯¦ç»†ä¿¡æ¯ã€‚
```

**ä¿®å¤é”™è¯¯**

```css
æˆ‘ä»¬æ¥å‡è®¾ä½ å¯¹å·¥ä½œå‰¯æœ¬åšäº†è®¸å¤šä¿®æ”¹ï¼Œä½†æ˜¯ç°åœ¨ä½ ä¸æƒ³è¦è¿™äº›ä¿®æ”¹äº†ï¼Œè¿™æ—¶å€™ revert æ“ä½œå°†ä¼šå¸®åŠ©ä½ ã€‚

Revert æ“ä½œé‡ç½®äº†å¯¹å·¥ä½œå‰¯æœ¬çš„ä¿®æ”¹ã€‚å®ƒå¯ä»¥é‡ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶/ç›®å½•ã€‚å½“ç„¶å®ƒä¹Ÿå¯ä»¥é‡ç½®æ•´ä¸ªå·¥ä½œå‰¯æœ¬ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œrevert æ“ä½œå°†ä¼šé”€æ¯å¾…å˜æ›´åˆ—è¡¨å¹¶å°†å·¥ä½œå‰¯æœ¬æ¢å¤åˆ°åŸå§‹çŠ¶æ€ã€‚
```

**è§£å†³å†²çª**

```css
åˆå¹¶çš„æ—¶å€™å¯èƒ½ä¼šå‘ç”Ÿå†²çªã€‚Merge æ“ä½œä¼šè‡ªåŠ¨å¤„ç†å¯ä»¥å®‰å…¨åˆå¹¶çš„ä¸œè¥¿ã€‚å…¶å®ƒçš„ä¼šè¢«å½“åšå†²çªã€‚ä¾‹å¦‚ï¼Œ"hello.c" æ–‡ä»¶åœ¨ä¸€ä¸ªåˆ†æ”¯ä¸Šè¢«ä¿®æ”¹ï¼Œåœ¨å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šè¢«åˆ é™¤äº†ã€‚è¿™ç§æƒ…å†µå°±éœ€è¦äººä¸ºå¤„ç†ã€‚Resolve æ“ä½œå°±æ˜¯ç”¨æ¥å¸®åŠ©ç”¨æˆ·æ‰¾å‡ºå†²çªå¹¶å‘Šè¯‰ç‰ˆæœ¬åº“å¦‚ä½•å¤„ç†è¿™äº›å†²çªã€‚
```

**æäº¤æ›´æ”¹**

```css
Commit æ“ä½œæ˜¯ç”¨æ¥å°†æ›´æ”¹ä»å·¥ä½œå‰¯æœ¬åˆ°ç‰ˆæœ¬åº“ã€‚è¿™ä¸ªæ“ä½œä¼šä¿®æ”¹ç‰ˆæœ¬åº“çš„å†…å®¹ï¼Œå…¶å®ƒå¼€å‘è€…å¯ä»¥é€šè¿‡æ›´æ–°ä»–ä»¬çš„å·¥ä½œå‰¯æœ¬æ¥æŸ¥çœ‹è¿™äº›ä¿®æ”¹ã€‚

åœ¨æäº¤ä¹‹å‰ï¼Œä½ å¿…é¡»å°†æ–‡ä»¶/ç›®å½•æ·»åŠ åˆ°å¾…å˜æ›´åˆ—è¡¨ä¸­ã€‚åˆ—è¡¨ä¸­è®°å½•äº†å°†ä¼šè¢«æäº¤çš„æ”¹åŠ¨ã€‚å½“æäº¤çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæä¾›ä¸€ä¸ªæ³¨é‡Šæ¥è¯´æ˜ä¸ºä»€ä¹ˆä¼šè¿›è¡Œè¿™äº›æ”¹åŠ¨ã€‚è¿™ä¸ªæ³¨é‡Šä¹Ÿä¼šæˆä¸ºç‰ˆæœ¬åº“å†å²è®°å½•çš„ä¸€éƒ¨åˆ†ã€‚

Commit æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´è¦ä¹ˆå®Œå…¨æäº¤æˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥å›æ»šã€‚ç”¨æˆ·ä¸ä¼šçœ‹åˆ°æˆåŠŸæäº¤ä¸€åŠçš„æƒ…å†µã€‚
```

### å¿«é€Ÿä½¿ç”¨

```shell
svnadmin create /Users/apple/svn/mycode

svnserve -d -r /path/svn  

#åˆå§‹åŒ–å¯¼å…¥svnæœåŠ¡å™¨
svn import /Users/apple/webSite svn://localhost/mycode/webSite --username=mj --password=123 -m "åˆå§‹åŒ–å¯¼å…¥"

svn checkout svn://localhost/mycode --username=mj --password=123 /Users/apple/svnwebSite

#æäº¤æ›´æ”¹è¿‡çš„ä»£ç åˆ°æœåŠ¡å™¨
cd /Users/apple/svnwebSite
svn commit -m "ä¿®æ”¹äº†webSiteæ–‡ä»¶"

#æ›´æ–°æœåŠ¡å™¨ç«¯çš„ä»£ç åˆ°å®¢æˆ·ç«¯
cd /Users/apple/svnwebSite
svn update

svn help
svnserve --version
```
### é…ç½®åŠå¯åŠ¨

**æ‰‹åŠ¨æ–°å»ºç‰ˆæœ¬åº“ç›®å½•**

```shell
mkdir /opt/svn
```

**åˆ›å»ºç‰ˆæœ¬åº“**

```shell
svnadmin create /opt/svn/runoob
```

**ä¿®æ”¹ä»“åº“é…ç½®**

ä¿®æ”¹confæ–‡ä»¶å¤¹ä¸‹çš„svnserve.confæ–‡ä»¶
```properties
[general]
#anon-access = noneï¼Œè¿™æ ·ç¦æ­¢åŒ¿åè®¿é—®ï¼Œéœ€è¦å¸å·å¯†ç æ‰èƒ½è®¿é—®
anon-access = none
auth-access = write
password-db = passwd
authz-db = authz
[sasl]
```

ä¿®æ”¹confä¸‹çš„passwdæ–‡ä»¶ï¼Œåœ¨[users]åé¢åŠ å…¥ç”¨æˆ·å’Œå¯†ç 
```css
  administrator = admin@Svnserver
  xiayong = xiayong
```

**å¯åŠ¨svnæœåŠ¡**

> svnserve -d -r ç›®å½• --log-file=/var/log/svn.log --listen-port ç«¯å£å·
>

```css
-r: é…ç½®æ–¹å¼å†³å®šäº†ç‰ˆæœ¬åº“è®¿é—®æ–¹å¼ã€‚

--log-file=/var/log/svn.log: æŒ‡å®šæ—¥å¿—è·¯å¾„

--listen-port: æŒ‡å®šSVNç›‘å¬ç«¯å£ï¼Œä¸åŠ æ­¤å‚æ•°ï¼ŒSVNé»˜è®¤ç›‘å¬3690
```

> ä¸¤ç§å¯åŠ¨æ–¹å¼ï¼šç”±äº-r é…ç½®æ–¹å¼çš„ä¸ä¸€æ ·ï¼ŒSVNå¯åŠ¨å°±å¯ä»¥æœ‰ä¸¤ç§ä¸åŒçš„è®¿é—®æ–¹å¼
>

> æ–¹å¼ä¸€ï¼š
>

-rç›´æ¥æŒ‡å®šåˆ°ç‰ˆæœ¬åº“(ç§°ä¹‹ä¸ºå•åº“svnserveæ–¹å¼)ï¼Œä¸€ä¸ªsvnserveåªèƒ½ä¸ºä¸€ä¸ªç‰ˆæœ¬åº“å·¥ä½œ

```shell
svnserve -d -r /opt/svn/runoob
```
authzé…ç½®æ–‡ä»¶ä¸­å¯¹ç‰ˆæœ¬åº“æƒé™çš„é…ç½®åº”è¿™æ ·å†™ï¼š
```properties
[groups]
admin=user1
dev=user2
[/]
@admin=rw
user2=r
```

ä½¿ç”¨ç±»ä¼¼è¿™æ ·çš„URLï¼šsvn://192.168.0.1/ã€€å³å¯è®¿é—®runoobç‰ˆæœ¬åº“

> æ–¹å¼äºŒï¼š

æŒ‡å®šåˆ°ç‰ˆæœ¬åº“çš„ä¸Šçº§ç›®å½•(ç§°ä¹‹ä¸ºå¤šåº“svnserveæ–¹å¼)ï¼Œä¸€ä¸ªsvnserveå¯ä»¥ä¸ºå¤šä¸ªç‰ˆæœ¬åº“å·¥ä½œ

```shell
svnserve -d -r /opt/svn
```


authzé…ç½®æ–‡ä»¶ä¸­å¯¹ç‰ˆæœ¬åº“æƒé™çš„é…ç½®åº”è¿™æ ·å†™ï¼š

```properties
[groups]
admin=user1
dev=user2
[runoob:/]
@admin=rw
user2=r
[runoob01:/]
@admin=rw
user2=r
```
å¦‚æœæ­¤æ—¶ä½ è¿˜ç”¨[/]ï¼Œåˆ™è¡¨ç¤ºæ‰€æœ‰åº“çš„æ ¹ç›®å½•ï¼ŒåŒç†ï¼Œ[/src]è¡¨ç¤ºæ‰€æœ‰åº“çš„æ ¹ç›®å½•ä¸‹çš„srcç›®å½•ã€‚

ä½¿ç”¨ç±»ä¼¼è¿™æ ·çš„URLï¼šsvn://192.168.0.1/runoobã€€å³å¯è®¿é—®runoobç‰ˆæœ¬åº“ã€‚

**å¯åŠ¨æµ‹è¯•(å¯é€‰)**

```shell
telnet localhost 3690
```

**åˆ›å»ºé»˜è®¤ç›®å½•ç»“æ„(å¯é€‰)**

é¦–å…ˆåœ¨æœ¬åœ°æŠŠç›®å½•ç»“æ„å»ºç«‹å¥½
```shell
$ sudo mkdir -p /tmp/svntemp
$ cd /tmp/svntemp/
$ sudo mkdir tags trunk branches

1.trunkæ˜¯ä¸»åˆ†æ”¯ï¼Œæ˜¯æ—¥å¸¸å¼€å‘è¿›è¡Œçš„åœ°æ–¹ã€‚
2.branchesæ˜¯åˆ†æ”¯ã€‚ä¸€äº›é˜¶æ®µæ€§çš„releaseç‰ˆæœ¬ï¼Œè¿™äº›ç‰ˆæœ¬æ˜¯å¯ä»¥ç»§ç»­è¿›è¡Œå¼€å‘å’Œç»´æŠ¤çš„ï¼Œåˆ™æ”¾åœ¨branchesç›®å½•ä¸­ã€‚åˆæ¯”å¦‚ä¸ºä¸åŒç”¨æˆ·å®¢åˆ¶åŒ–çš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨åˆ†æ”¯ä¸­è¿›è¡Œå¼€å‘ã€‚
3.tagsç›®å½•ä¸€èˆ¬æ˜¯åªè¯»çš„ï¼Œè¿™é‡Œå­˜å‚¨é˜¶æ®µæ€§çš„å‘å¸ƒç‰ˆæœ¬ï¼Œåªæ˜¯ä½œä¸ºä¸€ä¸ªé‡Œç¨‹ç¢‘çš„ç‰ˆæœ¬è¿›è¡Œå­˜æ¡£ã€‚
```

æ¥ä¸‹æ¥å°†æœ¬åœ°ç›®å½•ç»“æ„å¯¼å…¥åˆ°æˆ‘ä»¬çš„svnä»“åº“ä¸­
```shell
$ sudo svn import -m 'init repo' /tmp/svntemp/ svn://localhost/local
Authentication realm: <svn://localhost:3690> af662c40-23bf-43f4-93fa-8bf7eff40771
Password for 'root':
Authentication realm: <svn://localhost:3690> af662c40-23bf-43f4-93fa-8bf7eff40771
Username: administrator
Password for 'administrator':
Adding         /tmp/svntemp/trunk
Adding         /tmp/svntemp/branches
Adding         /tmp/svntemp/tags
Committed revision 1.
```
æˆ‘æ˜¯ä½¿ç”¨administratorè¿™ä¸ªç”¨æˆ·å¯¼å…¥çš„ï¼Œå› ä¸ºç›®å‰åªæœ‰è¿™ä¸ªç”¨æˆ·æ‰æœ‰æƒé™ã€‚

ç°åœ¨æˆ‘ä»¬çš„svnæœåŠ¡å™¨å·²ç»å¯ä»¥ç”¨äº†ï¼Œå¯ä»¥ä½¿ç”¨svn://localhost/localæ¥è®¿é—®æˆ‘ä»¬çš„localè¿™ä¸ªä»“åº“ï¼Œå½“ç„¶ä¸è¦å¿˜è®°äº†ï¼Œæˆ‘ä»¬åˆšæ‰æ–°æ·»åŠ äº†ç›®å½•ï¼Œéœ€è¦ä¿®æ”¹æƒé™ã€‚
```properties
[local:/branches]
@user = rw
[local:/tags]
@user = r
[local:/trunk]
@user = rw
```

**svnå¼€æœºå¯åŠ¨ï¼ˆå¯é€‰ï¼‰**

ç¼–è¾‘/etc/rc.localæ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹(æ­¤æ–‡ä»¶åœ¨Macç³»ç»Ÿä¸­æ˜¯æ²¡æœ‰çš„ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»º)
```shell
# to run the svnserver on the automatically.
svnserve -d -r /data/svn/repositories
```

### é—®é¢˜è®°å½•

```shell
#linux ä¸‹åœæ­¢æ‰€æœ‰çš„svnæœåŠ¡
killall svnserve

#windows ä¸‹åœæ­¢svnæœåŠ¡
net stop svn ã€åœæ­¢æœåŠ¡ã€‘

#windows ä¸‹åˆ é™¤svnæœåŠ¡
sc delete svn ã€åˆ é™¤æœåŠ¡ã€‘

#å¯åŠ¨è®¤è¯å¤±è´¥
#åˆ é™¤è®¤è¯ç¼“å­˜è®¾ç½®å³å¯
rm -rf ~/.subversion/auth
```
#### 1. apache+svn

**macç³»ç»Ÿåœ¨Apacheä¸­å®‰è£…SVNæ’ä»¶**

ç¼–è¾‘ /etc/apache2/httpd.conf è¿™ä¸ªæ–‡ä»¶ï¼Œç¡®ä¿è¯¥æ–‡ä»¶ä¸­æœ‰ä»¥ä¸‹é…ç½®é¡¹(è‹¥æ²¡æœ‰ï¼Œè¯·åŠ ä¸Šï¼Œè‹¥æ³¨é‡Šæ‰çš„è¯·å–æ¶ˆæ³¨é‡Š)ã€‚æ³¨æ„ï¼Œç¼–è¾‘æ­¤æ–‡ä»¶éœ€è¦rootæƒé™ã€‚

```css
LoadModule dav_module libexec/apache2/mod_dav.so
LoadModule dav_fs_module libexec/apache2/mod_dav_fs.so
LoadModule dav_svn_module libexec/apache2/mod_dav_svn.so
LoadModule authz_svn_module libexec/apache2/mod_authz_svn.so
```

ç¡®è®¤ /usr/libexec/apache2/ ç›®å½•ä¸‹æœ‰ä¸Šé¢é…ç½®é¡¹é‡Œçš„4ä¸ª.soæ–‡ä»¶ï¼Œ`mod_dav``.soå’Œmod_dav_fs.soè¿™ä¸¤ä¸ªæ–‡ä»¶åº”è¯¥å·²ç»å­˜åœ¨ï¼Œmod_dav_svn.soå’Œmod_authz_svn.soè¿™ä¸¤ä¸ªæ–‡ä»¶éœ€è¦åˆ°svnå®‰è£…ç›®å½•å»æ‹·è´ã€‚æˆ‘å‡è®¾ä½ å°†svnå®‰è£…åœ¨ /opt/subversion/ ä¸‹ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ‹·è´æ–‡ä»¶ï¼Œå¦‚æœä½ çš„svnä¸æ˜¯å®‰è£…åœ¨è¿™é‡Œï¼Œè¯·åˆ°ä½ çš„ç›®å½•ä¸‹é¢æ‹·è´`

```bash
$ sudo cp /opt/subversion/lib/svn-apache/mod_dav_svn.so /usr/libexec/apache2/
$ sudo cp /opt/subversion/lib/svn-apache/mod_authz_svn.so /usr/libexec/apache2/
```

``

**åœ¨Apacheä¸­é…ç½®SVN**

```css
åˆ›å»º /etc/apache2/other/svn.conf è¿™ä¸ªæ–‡ä»¶ï¼Œæ³¨æ„ä½¿ç”¨rootæƒé™æ‰å¯ä»¥ã€‚
åœ¨æ­¤æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®
<Location /svn>
    DAV svn
    SVNParentPath /usr/local/data/svn/repositories
    SVNListParentPath on
    AuthType Basic
    AuthName "Subversion repositories"
    AuthUserFile /usr/local/data/svn/repositories/passwd
    AuthzSVNAccessFile /usr/local/data/svn/repositories/authz
    Require valid-user
</Location>
```

ç®€å•è§£é‡Šä¸€ä¸‹æ­¤é…ç½®

```css
SVNParentPath ç›®å½•æŒ‡å‘æˆ‘ä»¬svnä»“åº“çš„ä¸Šä¸€çº§ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸‹é¢çš„æ¯ä¸ªæ–‡ä»¶å¤¹éƒ½ä¼šä½œä¸ºä¸€ä¸ªä»“åº“ã€‚æ³¨æ„ï¼šæˆ‘åæ¥å·²ç»å°†ä»“åº“ç§»åŠ¨åˆ°äº†/usr/local/data/svn/repositoriesä¸‹é¢ï¼Œå¦‚æœå¤§å®¶æŒ‰ç…§æˆ‘ä¸Šä¸€ç¯‡åšæ–‡æ¥é…ç½®çš„SVNä»“åº“ï¼Œè¿™é‡Œçš„é…ç½®è¯·æ”¹æˆä½ çš„SVNä»“åº“çš„åœ°å€ï¼

AuthUserFile è¯¥é…ç½®æŒ‡å‘svnç”¨æˆ·é…ç½®æ–‡ä»¶

AuthzSVNAccessFile è¯¥é…ç½®æŒ‡å‘svnæƒé™é…ç½®æ–‡ä»¶

AuthUserFile å’Œ AuthzSVNAccessFileè¿™ä¸¤ä¸ªé…ç½®é¡¹å»ºè®®ä¸è¦æŒ‡å‘åŸæ¥ä»“åº“çš„é…ç½®æ–‡ä»¶ï¼Œå»ºè®®åˆ›å»ºæ–°çš„ï¼ŒSVNä»“åº“ä¸­çš„é…ç½®æ–‡ä»¶åªä½œç”¨äºæŸä¸ªä»“åº“ï¼Œè€Œè¿™é‡ŒæŒ‡å‘çš„é…ç½®æ–‡ä»¶ä½œç”¨äºæ‰€æœ‰çš„ä»“åº“ã€‚
```

**åˆ›å»ºç”¨æˆ·ã€éªŒè¯é…ç½®**

ä½¿ç”¨htpasswdå‘½ä»¤æ·»åŠ ç”¨æˆ·

```bash
$ sudo htpasswd -c /usr/local/data/svn/repositories/passwd admin
New password:
Re-type new password:
Adding password for user admin
```

æˆ‘ä»¬æˆåŠŸçš„æ·»åŠ äº†ä¸€ä¸ªç”¨æˆ· adminï¼Œ å¹¶ä¸ºå…¶åˆå§‹åŒ–äº†å¯†ç ï¼Œé¦–æ¬¡æ·»åŠ ç”¨æˆ·ä½¿ç”¨äº† -c è¿™ä¸ªå‚æ•°ï¼Œä»¥åå¯ä»¥ä¸åŠ æ­¤å‚æ•°ã€‚/usr/local/data/svn/repositories/passwdæ˜¯åœ¨ /etc/apache2/other/svn.conf æ–‡ä»¶ä¸­AuthUserFileé…ç½®é¡¹æŒ‡å‘çš„æ–‡ä»¶ã€‚åˆšæ·»åŠ çš„adminè¿™ä¸ªç”¨æˆ·å°±å†™å…¥äº†è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚å¦å¤–è¯·æ‰‹åŠ¨åœ¨ /usr/local/data/svn/repositories/authz ä¸ºæ­¤ç”¨æˆ·é…ç½®æƒé™ã€‚

**å¯åŠ¨**

ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡å¯Apache

```bash
$ sudo apachectl restart
```

æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ä¸­è®¿é—®http://localhost/svn/ä½ å°†çœ‹åˆ°æµè§ˆå™¨å¼¹å‡ºäº†å¯†ç æ¡†è®©æˆ‘ä»¬è¾“å…¥ç”¨æˆ·åå¯†ç ã€‚



# æ¨¡æ¿å¼•æ“

## ç®€ä»‹ 

**æ¦‚è¿°**

ä¸€ç§åŸºäºæ¨¡æ¿å’Œè¦æ”¹å˜çš„æ•°æ®ï¼Œ å¹¶ç”¨æ¥ç”Ÿæˆè¾“å‡ºæ–‡æœ¬(HTMLç½‘é¡µï¼Œç”µå­é‚®ä»¶ï¼Œé…ç½®æ–‡ä»¶ï¼Œæºä»£ç ç­‰)çš„é€šç”¨å·¥å…·ã€‚åœ¨æ¨¡æ¿ä¸­ï¼Œä½ å¯ä»¥ä¸“æ³¨äºå¦‚ä½•å±•ç°æ•°æ®ï¼Œ è€Œåœ¨æ¨¡æ¿ä¹‹å¤–å¯ä»¥ä¸“æ³¨äºè¦å±•ç¤ºä»€ä¹ˆæ•°æ®ã€‚

**Thymeleafä¸FreeMarkeræ¯”è¾ƒ**

1. Thymeleafï¼ˆHtmlé‡Œå†™æ¨¡æ¿ï¼‰

```css
ä¼˜ç‚¹ï¼š

é™æ€htmlåµŒå…¥æ ‡ç­¾å±æ€§ï¼Œæµè§ˆå™¨å¯ä»¥ç›´æ¥æ‰“å¼€æ¨¡æ¿æ–‡ä»¶ï¼Œä¾¿äºå‰åç«¯è”è°ƒ

åŠ¨é™ç»“åˆ
Thymeleaf åœ¨æœ‰ç½‘ç»œå’Œæ— ç½‘ç»œçš„ç¯å¢ƒä¸‹çš†å¯è¿è¡Œï¼Œå³å®ƒå¯ä»¥è®©ç¾å·¥åœ¨æµè§ˆå™¨æŸ¥çœ‹é¡µé¢çš„é™æ€æ•ˆæœï¼Œä¹Ÿå¯ä»¥è®©ç¨‹åºå‘˜åœ¨æœåŠ¡å™¨æŸ¥çœ‹å¸¦æ•°æ®çš„åŠ¨æ€é¡µé¢æ•ˆæœã€‚è¿™æ˜¯ç”±äºå®ƒæ”¯æŒ html åŸå‹ï¼Œç„¶ååœ¨ html æ ‡ç­¾é‡Œå¢åŠ é¢å¤–çš„å±æ€§æ¥è¾¾åˆ°æ¨¡æ¿+æ•°æ®çš„å±•ç¤ºæ–¹å¼ã€‚æµè§ˆå™¨è§£é‡Š html æ—¶ä¼šå¿½ç•¥æœªå®šä¹‰çš„æ ‡ç­¾å±æ€§ï¼Œæ‰€ä»¥ thymeleaf çš„æ¨¡æ¿å¯ä»¥é™æ€åœ°è¿è¡Œï¼›å½“æœ‰æ•°æ®è¿”å›åˆ°é¡µé¢æ—¶ï¼ŒThymeleaf æ ‡ç­¾ä¼šåŠ¨æ€åœ°æ›¿æ¢æ‰é™æ€å†…å®¹ï¼Œä½¿é¡µé¢åŠ¨æ€æ˜¾ç¤ºã€‚

ä¸SpringBootå®Œç¾æ•´åˆ
SpringBootæä¾›äº†Thymeleafçš„é»˜è®¤é…ç½®ï¼Œå¹¶ä¸”ä¸ºThymeleafè®¾ç½®äº†è§†å›¾è§£æå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åƒä»¥å‰æ“ä½œjspä¸€æ ·æ¥æ“ä½œThymeleafã€‚ä»£ç å‡ ä¹æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œå°±æ˜¯åœ¨æ¨¡æ¿è¯­æ³•ä¸Šæœ‰åŒºåˆ«ã€‚
```

```css
ç¼ºç‚¹

æ¨¡æ¿å¿…é¡»ç¬¦åˆxmlè§„èŒƒ

jsè„šæœ¬å¿…é¡»åŠ å…¥/*<![CDATA[*/æ ‡è¯†ï¼Œå¦åˆ™ä¸€ä¸ª&ç¬¦å·å°±ä¼šå¯¼è‡´åå°æ¨¡æ¿åˆæˆæŠ›å¼‚å¸¸ï¼Œè€Œä¸”é”™è¯¯ä¿¡æ¯å·¨ä¸å‹å¥½ï¼Œå®³å¾—æˆ‘è°ƒè¯•äº†å¥½å‡ ä¸ªå°æ—¶æ‰æ˜ç™½æ˜¯æ€ä¹ˆå›äº‹ã€‚

jsé‡Œé¢è¿˜å¥½åŠï¼Œè¿™æ ·æ˜¯åœ¨htmlé‡Œé¢å«æœ‰&ç­‰ç¬¦å·ï¼Œè¿˜éœ€è¦è½¬ä¹‰ï¼Ÿå¿’éº»çƒ¦äº†ï¼Thymaleafçš„è‡ªå®šä¹‰æ–¹æ³•è¾ƒéš¾å®ç°å®Œç¾çš„æ•°æ®è½¬æ¢
```

2. FreeMarkerï¼ˆæ¨¡æ¿é‡Œå†™Htmlï¼‰

```css
ä¼˜ç‚¹ï¼š

ä¸¥æ ¼çš„ MVC (æ¨¡å‹ è§†å›¾ æ§åˆ¶å™¨) æ¨¡å¼
å®çš„å¼ºå¤§å’Œè‡ªå®šä¹‰èŠ‚ç‚¹è½¬æ¢æ–¹æ³•å‡½æ•°é€‚åˆç‰¹æ®Šã€å¤æ‚æ•°æ®çš„è½¬åŒ–
```

```css
ç¼ºç‚¹
å‰åç«¯è”è°ƒä¸æ–¹ä¾¿
```

## Tymeleaf 

### å¿«é€Ÿä½¿ç”¨
**æˆ‘ä»¬çš„è¡¨è¾¾å¼å†™åœ¨ä¸€ä¸ªåä¸ºï¼šth:textçš„æ ‡ç­¾å±æ€§ä¸­ï¼Œè¿™ä¸ªå«åšæŒ‡ä»¤**

```html
<!-- å¼•å…¥å‘½åç©ºé—´å‰ç¼€ -->
<html lang="en" xmlns:th="http://www.thymeleaforg">
<!-- å–å€¼ï¼šå…ˆåœ¨requestä¸­æ‰¾ï¼Œç„¶åsessionï¼Œå†servlet context -->
<body>
  <h1 th:text="${msg}">test</h1>
</body>
```
```java
// åå°modelå°†æ•°æ®å†™å…¥request
@GetMapping("test2")
public String test2(Model model){
    User user = new User();
    user.setAge(21);
    user.setName("Jackson");
    user.setFriend(new User("æå°é¾™", 30));
    model.addAttribute("user", user);
    return "hello2";
}
```
```java
 String msg = "<h1>å•¦å•¦å•¦</h1>";
```
```html
th:textä¸th:utexteåŒºåˆ«
<!-- ç”¨th:textä¸ä¼šè§£æhtmlï¼Œç”¨th:utextä¼šè§£æhtmlï¼Œåœ¨é¡µé¢ä¸­æ˜¾ç¤ºç›¸åº”çš„æ ·å¼ -->
 <p th:text="é‡‡ç”¨textæ ‡ç­¾ï¼š + ${msg}"></p>
<!-- é‡‡ç”¨textæ ‡ç­¾ï¼š<h1>å•¦å•¦å•¦</h1> -->
 <p th:utext="é‡‡ç”¨utextæ ‡ç­¾ï¼š + ${msg}"></p>
<!-- é‡‡ç”¨utextæ ‡ç­¾ï¼š
     å•¦å•¦å•¦ -->
```
### è¯­æ³•
**å˜é‡ï¼ˆå–å€¼ï¼‰ã€æ–¹æ³•ã€æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ã€è¿ç®—ã€é€»è¾‘è¿ç®—ã€å¸ƒå°”è¿ç®—ã€æ¯”è¾ƒè¿ç®—ã€æ¡ä»¶è¿ç®—ã€å…¶å®ƒ**

```html
å˜é‡
<!-- 
å¦‚æœä¸æ”¯æŒè¿™ç§th:çš„å‘½åç©ºé—´å†™æ³•ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠth:textæ¢æˆ data-th-text
è·å–å˜é‡å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ç»å…¸çš„å¯¹è±¡.å±æ€§åæ–¹å¼ã€‚
æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„å±æ€§åå¯èƒ½æœ¬èº«ä¹Ÿæ˜¯å˜é‡ï¼šä¾‹å¦‚ï¼š${user.name} å¯ä»¥å†™ä½œ${user['name']}
 -->

å˜é‡_è‡ªå®šä¹‰å˜é‡
<h2>
    <p>Name: <span th:text="${user.name}">Jack</span>.</p>
    <p>Age: <span th:text="${user.age}">21</span>.</p>
    <p>friend: <span th:text="${user.friend.name}">Rose</span>.</p>
</h2>
<!-- æˆ‘ä»¬è·å–ç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯ï¼Œåˆ†åˆ«å±•ç¤ºã€‚
å½“æ•°æ®é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œé¢‘ç¹çš„å†™user.å°±ä¼šéå¸¸éº»çƒ¦ã€‚å› æ­¤ï¼ŒThymeleafæä¾›äº†è‡ªå®šä¹‰å˜é‡æ¥è§£å†³ -->
<h2 th:object="${user}">
    <p>Name: <span th:text="*{name}">Jack</span>.</p>
    <p>Age: <span th:text="*{age}">21</span>.</p>
    <p>friend: <span th:text="*{friend.name}">Rose</span>.</p>
</h2>
<!-- é¦–å…ˆåœ¨ h2ä¸Š ç”¨ th:object="${user}"è·å–userçš„å€¼ï¼Œå¹¶ä¸”ä¿å­˜
ç„¶åï¼Œåœ¨h2å†…éƒ¨çš„ä»»æ„å…ƒç´ ä¸Šï¼Œå¯ä»¥é€šè¿‡ *{å±æ€§å}çš„æ–¹å¼ï¼Œæ¥è·å–userä¸­çš„å±æ€§ï¼Œè¿™æ ·å°±çœå»äº†å¤§é‡çš„user.å‰ç¼€äº† -->

æ–¹æ³•

æ–¹æ³•_æ‹¼æ¥
<span th:text="'æ¬¢è¿æ‚¨:' + ${user.name} + '!'"></span>
<!-- å­—ç¬¦ä¸²å­—é¢å€¼éœ€è¦ç”¨''ï¼Œæ‹¼æ¥èµ·æ¥éå¸¸éº»çƒ¦ï¼ŒThymeleafå¯¹æ­¤è¿›è¡Œäº†ç®€åŒ–ï¼Œä½¿ç”¨ä¸€å¯¹|å³å¯ï¼š -->
<span th:text="|æ¬¢è¿æ‚¨:${user.name}|"></span>

æ–¹æ³•è°ƒç”¨
<!-- ognlè¡¨è¾¾å¼æœ¬èº«å°±æ”¯æŒæ–¹æ³•è°ƒç”¨ -->
<h2 th:object="${user}">
    <p>FirstName: <span th:text="*{name.split(' ')[0]}">Jack</span>.</p>
    <p>LastName: <span th:text="*{name.split(' ')[1]}">Li</span>.</p>
</h2>
<!-- è¿™é‡Œæˆ‘ä»¬è°ƒç”¨äº†nameï¼ˆæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰çš„splitæ–¹æ³•ã€‚ -->

æ–¹æ³•â€”â€”å†…ç½®å¯¹è±¡ï¼šåé¢

è¿ç®—
<span th:text="${user.sex} ? 'ç”·':'å¥³'"></span>

å¾ªç¯
<tr th:each="user : ${users}">
    <td th:text="${user.name}">Onions</td>
    <td th:text="${user.age}">2.41</td>
</tr>
<tr th:each="user,stat : ${users}">
    <td th:text="${user.name}">Onions</td>
    <td th:text="${user.age}">2.41</td>
</tr>
<!-- 
statå¯¹è±¡åŒ…å«ä»¥ä¸‹å±æ€§ï¼š
indexï¼Œä»0å¼€å§‹çš„è§’æ ‡
countï¼Œå…ƒç´ çš„ä¸ªæ•°ï¼Œä»1å¼€å§‹
sizeï¼Œæ€»å…ƒç´ ä¸ªæ•°
currentï¼Œå½“å‰éå†åˆ°çš„å…ƒç´ 
even/oddï¼Œè¿”å›æ˜¯å¦ä¸ºå¶/å¥‡ï¼Œbooleanå€¼
first/lastï¼Œè¿”å›æ˜¯å¦ä¸ºç¬¬ä¸€æˆ–æœ€åï¼Œbooleanå€¼ 
-->

é€»è¾‘åˆ¤æ–­if
<!-- ä½¿ç”¨th:if æˆ–è€… th:unless ï¼Œä¸¤è€…çš„æ„æ€æ°å¥½ç›¸åã€‚ -->
<!-- å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸ºtrueï¼Œåˆ™æ ‡ç­¾ä¼šæ¸²æŸ“åˆ°é¡µé¢ï¼Œå¦åˆ™ä¸è¿›è¡Œæ¸²æŸ“ã€‚ -->
<span th:if="${user.age} > 24">è€æ²¹æ¡</span>

åˆ†æ”¯æ§åˆ¶switch
<!-- éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªth:caseæˆç«‹ï¼Œå…¶å®ƒçš„åˆ™ä¸å†åˆ¤æ–­ã€‚ä¸javaä¸­çš„switchæ˜¯ä¸€æ ·çš„ã€‚ -->
<!-- å¦å¤–th:case="*"è¡¨ç¤ºé»˜è®¤ï¼Œæ”¾æœ€åã€‚ -->
<div th:switch="${user.role}">
  <p th:case="'admin'">ç”¨æˆ·æ˜¯ç®¡ç†å‘˜</p>
  <p th:case="'manager'">ç”¨æˆ·æ˜¯ç»ç†</p>
  <p th:case="*">ç”¨æˆ·æ˜¯åˆ«çš„ç©æ„</p>
</div>

JSæ¨¡æ¿
<!-- æ¨¡æ¿å¼•æ“ä¸ä»…å¯ä»¥æ¸²æŸ“htmlï¼Œä¹Ÿå¯ä»¥å¯¹JSä¸­çš„è¿›è¡Œé¢„å¤„ç†ã€‚ä¸ºåœ¨çº¯é™æ€ç¯å¢ƒä¸‹å¯ä»¥è¿è¡Œï¼ŒThymeleafä»£ç å¯è¢«æ³¨é‡Šèµ·æ¥ -->
<!-- åœ¨scriptæ ‡ç­¾ä¸­é€šè¿‡th:inline="javascript"æ¥å£°æ˜è¿™æ˜¯è¦ç‰¹æ®Šå¤„ç†çš„jsè„šæœ¬ -->
<script th:inline="javascript">
    const user = /*[[${user}]]*/ {};
    const age = /*[[${user.age}]]*/ 20;
    console.log(user);
    console.log(age)
</script>
<!-- è¯­æ³•ç»“æ„ï¼šconst user = /*[[Thymeleafè¡¨è¾¾å¼]]*/ "é™æ€ç¯å¢ƒä¸‹çš„é»˜è®¤å€¼"; -->
<!-- å› ä¸ºThymeleafè¢«æ³¨é‡Šèµ·æ¥ï¼Œå› æ­¤å³ä¾¿æ˜¯é™æ€ç¯å¢ƒä¸‹ï¼Œ jsä»£ç ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯é‡‡ç”¨è¡¨è¾¾å¼åé¢è·Ÿç€çš„é»˜è®¤å€¼ã€‚ä¸”Userå¯¹è±¡ä¼šè¢«ç›´æ¥å¤„ç†ä¸ºjsonæ ¼å¼ã€‚ -->
```
**å†…ç½®å¯¹è±¡**

è¿™äº›å¯¹è±¡ä¸­æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ¥è°ƒç”¨ã€‚è·å–è¿™äº›å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨#å¯¹è±¡åæ¥å¼•ç”¨ã€‚

**ç¯å¢ƒç›¸å…³å¯¹è±¡**

| å¯¹è±¡             | ä½œç”¨                                      |
|---              |   ---                                     |
| #ctx            | è·å–Thymeleafè‡ªå·±çš„Contextå¯¹è±¡              |
| #requset        | å¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletRequestå¯¹è±¡ |
| #response       | å¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletReponseå¯¹è±¡ |
| #session        | å¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpSessionå¯¹è±¡        |
| #servletContext | å¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletContextå¯¹è±¡ |
**å…¨å±€å¯¹è±¡**  

| å¯¹è±¡       | ä½œç”¨                             |
| - | -- |
| #dates     | å¤„ç†java.util.dateçš„å·¥å…·å¯¹è±¡     |
| #calendars | å¤„ç†java.util.calendarçš„å·¥å…·å¯¹è±¡ |
| #numbers   | ç”¨æ¥å¯¹æ•°å­—æ ¼å¼åŒ–çš„æ–¹æ³•           |
| #strings   | ç”¨æ¥å¤„ç†å­—ç¬¦ä¸²çš„æ–¹æ³•             |
| #bools     | ç”¨æ¥åˆ¤æ–­å¸ƒå°”å€¼çš„æ–¹æ³•             |
| #arrays    | ç”¨æ¥æŠ¤ç†æ•°ç»„çš„æ–¹æ³•               |
| #lists     | ç”¨æ¥å¤„ç†Listé›†åˆçš„æ–¹æ³•           |
| #sets      | ç”¨æ¥å¤„ç†seté›†åˆçš„æ–¹æ³•            |
| #maps      | ç”¨æ¥å¤„ç†mapé›†åˆçš„æ–¹æ³•            |

### åº”ç”¨
```java
@GetMapping("test3")
public String show3(Model model){
    model.addAttribute("today", new Date());
    return "hello3";
}
```
```html
<p>
  ä»Šå¤©æ˜¯: <span th:text="${#dates.format(today,'yyyy-MM-dd')}">2018-04-25</span>
</p>
```


## FreeMarker 

### å¿«é€Ÿä½¿ç”¨
**æ•°æ®ï¼ˆjavaï¼‰+æ¨¡æ¿ï¼ˆftlï¼‰= ç»“æœï¼ˆhtmlï¼‰**

```html
è¿™é‡Œæ˜¯ftlæ–‡ä»¶
<!-- å…ˆåœ¨requestä¸­æ‰¾ï¼Œç„¶åsessionï¼Œå†servlet context -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Insert title here</title>
  </head>
  <body>
    <h1>ä½ å¥½ï¼š ${username}</h1>
  </body>
</html>
```
```java
javaåå°æ•´åˆ
//1.åŠ è½½æ¨¡æ¿ã€åˆ›å»ºæ ¸å¿ƒé…ç½®å¯¹è±¡
Configuration configuration = new Configuration (configuration. VERSION_2_3_28);
//è®¾ç½®åŠ è½½çš„ç›®å½•
// åœ¨æœ¬ç±»æ‰€åœ¨åŒ…ä¸­åŠ è½½ft1æ–‡ä»¶, "ä»£è¡¨å½“å‰åŒ…çš„æ„æ€confiquration.setclassForTemplateLoading(æœ¬ç±».class.")
//è®¾ç½®ç¼–ç 
configuration. setDefaultEncoding "UTF-8" );
// å¾—åˆ°æ¨¡æ¿å¯¹è±¡
Template template- confiquration.getTemplate ("demo.ft1");
//2.å¤„ç†æ•°æ®
Map-String, Object> data = new HashMap-String, Object>();
data.put ("site", "ç™¾åº¦");
data.put ("ur","www.baidu.com");
// 3.äº§ç”Ÿè¾“å‡º
// System.outå‘æ§åˆ¶å°è¾“å‡º,æ˜¯ä¸€ä¸ªprintStreamå­—èŠ‚æµ,è¦è½¬æ¢ä¸ºå­—ç¬¦æµ
template.process (data, new outputstreamwriter(System.out));
```
```css
ç«™ç‚¹ï¼š${site}-- åœ°å€ï¼š${ur}}
```
### è¯­æ³•
**å˜é‡ï¼ˆå–å€¼ï¼‰ã€æ–¹æ³•ã€æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ã€è¿ç®—ã€é€»è¾‘è¿ç®—ã€å¸ƒå°”è¿ç®—ã€æ¯”è¾ƒè¿ç®—ã€æ¡ä»¶è¿ç®—ã€å…¶å®ƒ**

```properties
å–å€¼
$ {å±æ€§å} å¯å¯¹å±æ€§è¿›è¡Œè®¡ç®—
$ {å±æ€§å!é»˜è®¤å€¼} ä½¿ç”¨é»˜è®¤
$ {å±æ€§å?string} æ ¼å¼åŒ–è¾“å‡º

ç¤ºä¾‹
    {date?string("yyyyå¹´MMæœˆddæ—¥HH:mm:ss SSS)}
    {number?string("0.00"}
    SN:${computer.sn}
    å‹å·:${computer.model}
    çŠ¶æ€:${computer.state}
    ç”¨æˆ·:${computer.user}
    é‡‡è´­æ—¶é—´:${computer.dop?string("yyyyå¹´MMæœˆddæ—¥)}
    é‡‡è´­ä»·æ ¼:${computer.price?string("0.00"}
    é…ç½®ä¿¡æ¯:
        CPU:${computer.info["cpu"]}
        å†…å­˜:${computer.info["memory"] !"æ— å†…å­˜ä¿¡æ¯"}
```
```properties
ç©ºå€¼åˆ¤æ–­ã€å¤„ç†
<!-- FreeMarkerçš„å˜é‡å¿…é¡»èµ‹å€¼ï¼Œå¦åˆ™å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è€Œå¯¹äºFreeMarkeræ¥è¯´ï¼Œnullå€¼å’Œä¸å­˜åœ¨çš„å˜é‡æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œå› ä¸ºFreeMarkeræ— æ³•ç†è§£nullå€¼ã€‚ -->
FreeMarkeræä¾›ä¸¤ä¸ªè¿ç®—ç¬¦æ¥é¿å…ç©ºå€¼:

1. !ï¼šæŒ‡å®šç¼ºå¤±å˜é‡çš„é»˜è®¤å€¼
    !è¿ç®—ç¬¦æœ‰ä¸¤ç§ç”¨æ³•ï¼š
        variable!æˆ–variable!defaultValue
        ç¬¬ä¸€ç§ç”¨æ³•ä¸ç»™å˜é‡æŒ‡å®šé»˜è®¤å€¼ï¼Œè¡¨æ˜é»˜è®¤å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ã€é•¿åº¦ä¸º0çš„é›†åˆã€æˆ–é•¿åº¦ä¸º0çš„Mapå¯¹è±¡ã€‚
    æ³¨æ„ï¼šä½¿ç”¨!è¿ç®—ç¬¦æŒ‡å®šé»˜è®¤å€¼å¹¶ä¸è¦æ±‚é»˜è®¤å€¼çš„ç±»å‹å’Œå˜é‡ç±»å‹ç›¸åŒã€‚

æµ‹è¯•ç©ºå€¼ï¼š
    ${sss} <#--æ²¡æœ‰å®šä¹‰è¿™ä¸ªå˜é‡ï¼Œä¼šæŠ¥å¼‚å¸¸ï¼-->
    ${sss!} <#--æ²¡æœ‰å®šä¹‰è¿™ä¸ªå˜é‡ï¼Œé»˜è®¤å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼-->
    ${sss!"abc"} <#--æ²¡æœ‰å®šä¹‰è¿™ä¸ªå˜é‡ï¼Œé»˜è®¤å€¼æ˜¯å­—ç¬¦ä¸²abcï¼-->

2. ??ï¼šåˆ¤æ–­å˜é‡æ˜¯å¦å­˜åœ¨
    ??è¿ç®—ç¬¦è¿”å›å¸ƒå°”å€¼ï¼Œå¦‚ï¼švariable??ï¼Œå¦‚æœå˜é‡å­˜åœ¨ï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚
```
```properties

assignæŒ‡ä»¤ï¼š
ç”¨äºä¸ºè¯¥æ¨¡æ¿é¡µé¢åˆ›å»ºæˆ–æ›¿æ¢ä¸€ä¸ªé¡¶å±‚å˜é‡
<#assign name=value [in namespacehash]>,
<!-- è¿™ä¸ªç”¨æ³•ç”¨äºæŒ‡å®šä¸€ä¸ªåä¸ºnameçš„å˜é‡,è¯¥å˜é‡çš„å€¼ä¸ºvalue
     æ­¤å¤–,FreeMarkerå…è®¸åœ¨ä½¿ç”¨assignæŒ‡ä»¤é‡Œå¢åŠ inå­å¥
     inå­å¥ç”¨äºå°†åˆ›å»ºçš„nameå˜é‡æ”¾å…¥namespacehashå‘½åç©ºé—´ä¸­. -->
  <#assign name="æå››">
    å§“åï¼š${name}
  <#assign info={"name":"å¼ ä¸‰","address":"ä¸Šæµ·"}>
    å§“åï¼š${info.name}
    åœ°å€ï¼š${info.address}
  <#assign seq = ["foo", "bar", "baz"]>

å­—ç¬¦ä¸²è¾“å‡º:
    ${"Hello ${name} !"} / ${"Hello " + name + " !"}
    <#assign cname=r"ç‰¹æ®Šå­—ç¬¦å®Œæˆè¾“å‡º(http:\www.baidu.com)">
    ${cname}

å­—ç¬¦ä¸²æˆªå– ï¼š 
    é€šè¿‡ä¸‹æ ‡ç›´æ¥è·å–ä¸‹æ ‡å¯¹åº”çš„å­—æ¯ï¼š ${name[2]}
    èµ·ç‚¹ä¸‹æ ‡..ç»“å°¾ä¸‹æ ‡æˆªå–å­—ç¬¦ä¸²ï¼š${name[0..5]}

ç®—æ•°è¿ç®—ï¼š
    <#-- æ”¯æŒ"+"ã€"ï¼"ã€"*"ã€"/"ã€"%"è¿ç®—ç¬¦ -->
    <#assign number1 = 10>
    <#assign number2 = 5>
    "+" : ${number1 + number2}
    "ï¼" : ${number1 - number2}
    "*" : ${number1 * number2}
    "/" : ${number1 / number2}
    "%" : ${number1 % number2}

æ¯”è¾ƒè¿ç®—ç¬¦ï¼š
<!-- 
      EQ å°±æ˜¯ EQUALç­‰äº
      NEå°±æ˜¯ NOT EQUALä¸ç­‰äº
      GT å°±æ˜¯ GREATER THANå¤§äºã€€
      LT å°±æ˜¯ LESS THANå°äº
      GE å°±æ˜¯ GREATER THAN OR EQUAL å¤§äºç­‰äº
      LE å°±æ˜¯ LESS THAN OR EQUAL å°äºç­‰äº 
-->
<!--freemarkeré‡Œé¢ä¸èƒ½åŒ…å« ">", "<" æ‰€ä»¥è¦ç”¨åˆ°å¤§äºå’Œå°äº,å°±è¦ç”¨gt,lt -->
  <#if number1 + number2 gte 12 || number1 - number2 lt 6>
      "*" : ${number1 * number2}
  <#else>
      "/" : ${number1 / number2}
  </#if>

å†…å»ºå‡½æ•°ï¼š
    <#assign data = "abcd1234">
    ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ï¼š${data?cap_first}
    æ‰€æœ‰å­—æ¯å°å†™ï¼š${data?lower_case}
    æ‰€æœ‰å­—æ¯å¤§å†™ï¼š${data?upper_case}
    <#assign floatData = 12.34>
    æ•°å€¼å–æ•´æ•°ï¼š${floatData?int}
    è·å–é›†åˆçš„é•¿åº¦ï¼š${users?size}
    æ—¶é—´æ ¼å¼åŒ–ï¼š${dateTime?string("yyyy-MM-dd")}

ç©ºåˆ¤æ–­å’Œå¯¹è±¡é›†åˆï¼š
  <#if users??>
      <#list users as user >
          ${user.id} - ${user.name}
      </#list>
  <#else>
      ${user!"å˜é‡ä¸ºç©ºåˆ™ç»™ä¸€ä¸ªé»˜è®¤å€¼"}
  </#if>

Mapé›†åˆï¼š
  <#assign mapData={"name":"ç¨‹åºå‘˜", "salary":15000}>

  ç›´æ¥é€šè¿‡Keyè·å– Valueå€¼ï¼š${mapData["name"]}

  é€šè¿‡Keyéå†Mapï¼š
  <#list mapData?keys as key>
      Key: ${key} - Value: ${mapData[key]}
  </#list>

  é€šè¿‡Valueéå†Mapï¼š
  <#list mapData?values as value>
      Value: ${value}
  </#list>

Listé›†åˆï¼š
  <#assign listData=["ITDragon", "blog", "is", "cool"]>
  <#list listData as value>${value} </#list>

includeæŒ‡ä»¤ï¼š
  å¼•å…¥å…¶ä»–æ–‡ä»¶ï¼š<#include "otherFreeMarker.ftl" />

macroå®æŒ‡ä»¤ï¼š
  <#macro mo>
    å®šä¹‰æ— å‚æ•°çš„å®macro--${name}
  </#macro>
    ä½¿ç”¨å®macro: <@mo />
  <#macro moArgs a b c>
    å®šä¹‰å¸¦å‚æ•°çš„å®macro-- ${a+b+c}
  </#macro>
    ä½¿ç”¨å¸¦å‚æ•°çš„å®macro: <@moArgs a=1 b=2 c=3 />

å‘½åç©ºé—´ï¼š
  <#import "otherFreeMarker.ftl" as otherFtl>
  ${otherFtl.otherName}
  <@otherFtl.addMethod a=10 b=20 />
  <#assign otherName="ä¿®æ”¹otherFreeMarker.ftlä¸­çš„otherNameå˜é‡å€¼"/>
  ${otherFtl.otherName}
  <#assign otherName="ä¿®æ”¹otherFreeMarker.ftlä¸­çš„otherNameå˜é‡å€¼" in otherFtl />
  ${otherFtl.otherName}
```

# Spring Boot

## ç®€ä»‹

**æ¦‚è¿°**

Spring Boot æ˜¯ç”¨æ¥ç®€åŒ– Spring çš„æ­å»ºå’Œå¼€å‘è¿‡ç¨‹çš„å…¨æ–°æ¡†æ¶ã€‚éšç€è¿‘äº›å¹´æ¥å¾®æœåŠ¡æŠ€æœ¯çš„æµè¡Œï¼ŒSpring Boot ä¹Ÿæˆäº†æ—¶ä¸‹ç‚™æ‰‹å¯çƒ­çš„çƒ­ç‚¹æŠ€æœ¯ã€‚

Spring Boot å»é™¤äº†å¤§é‡çš„ xml é…ç½®æ–‡ä»¶ï¼Œç®€åŒ–äº†å¤æ‚çš„ä¾èµ–ç®¡ç†ï¼Œé…åˆå„ç§ starter ä½¿ç”¨ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥åšåˆ°è‡ªåŠ¨åŒ–é…ç½®ã€‚Spring å¯ä»¥åšçš„äº‹æƒ…ï¼Œç°åœ¨ç”¨ Spring boot éƒ½å¯ä»¥åšã€‚

**æ ¸å¿ƒç‰¹æ€§**

```css
1.å¯ç‹¬ç«‹è¿è¡Œçš„springé¡¹ç›®ï¼šå†…åµŒtomcatç»„ä»¶ï¼Œéšç€spring bootçš„å¯åŠ¨tomcatï¼›spring bootç¼–è¯‘æ—¶ä¸å†æä¾›waråŒ…ï¼Œè€Œæ˜¯javaä¸­æ ‡å‡†çš„jaråŒ…ï¼›éƒ¨ç½²---å°†jaråŒ…æ‰¹é‡ä¸Šä¼ è‡³æ¯ä¸€å°æœåŠ¡å™¨åï¼Œé€šè¿‡æœåŠ¡å™¨æ®µè„šæœ¬è‡ªåŠ¨å¯åŠ¨ã€‚

2.â€œä¹ æƒ¯æœ‰é¢„é…ç½®â€ï¼šspring bootå¯¹é›†æˆçš„ç»„ä»¶è¿›è¡Œäº†å°è£…ï¼Œæå¤§çš„æé«˜äº†å¼€å‘æ•ˆç‡ï¼Œé¿å…äº†é‡å¤ç”Ÿæˆå¯å¤ç”¨çš„ä»£ç ã€‚

3.æç®€çš„ç»„ä»¶ä¾èµ–ï¼šç»„ä»¶è‡ªåŠ¨å‘ç°ä¸è‡ªåŠ¨è£…é…ï¼Œspring bootå°†æœ€å¸¸ç”¨çš„é…ç½®æå‰å¤„ç†å¥½ï¼Œæˆ‘ä»¬åªéœ€åœ¨mavenä¸­åˆ¶å®šä¸€ä¸ªstarterå¯åŠ¨å™¨ï¼›å¦‚æœæŸä¸ªæ¡†æ¶æˆ–ç»„ä»¶spring booté»˜è®¤ä¸æ”¯æŒï¼Œä¹Ÿå¯è‡ªå·±ç¼–å†™é…ç½®ç±»ã€‚

4.æä¾›è¿è¡Œæ—¶çš„åº”ç”¨ç›‘æ§ï¼šåœ¨ç¨‹åºå¼€å‘å·¥ç¨‹ä¸­ç¨‹åºå‘˜å¾€å¾€åªå…³æ³¨ä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œå¯¹æœåŠ¡å™¨å‹åŠ›ã€å†…å­˜å ç”¨ã€æ•°æ®åº“è´Ÿè½½ç­‰è¿è¡Œæ—¶é‡è¦æŒ‡æ ‡ç½®ä¹‹åº¦å¤–ï¼Œç¨‹åºä¸Šçº¿ååªæœ‰åœ¨å´©æºƒæ—¶æ‰èƒ½å¾—åˆ°åé¦ˆï¼Œæ— æ³•æå‰é¢„è­¦ï¼›è€Œspring bootæä¾›äº†å¯¹åº”ç”¨ç›‘æ§çš„ç«¯å£ï¼Œå¯ä»¥é€šè¿‡åå°ç›´è§‚äº†è§£åˆ°é¡¹ç›®çš„è¿è¡Œæƒ…å†µï¼Œæå‰é¢„é˜²æœåŠ¡å™¨å®•æœºã€‚

5.ä¸åˆ†å¸ƒå¼æ¶æ„çš„å¤©ç„¶é›†æˆï¼šspring dataç”¨äºæµ·é‡æ•°æ®å¤„ç†ä¸äº¤äº’ï¼Œspring cloudæä¾›äº†åˆ†å¸ƒå¼æ¶æ„çš„åº•å±‚æ”¯æŒï¼Œä¸¤è€…ç›¸è¾…ç›¸æˆï¼Œspring bootå°†è¿™äº›æ¡†æ¶ç²˜åˆåœ¨ä¸€èµ·ï¼Œå¹¶æä¾›äº†ç®€å•ä¼˜åŒ–çš„åº”ç”¨æ–¹å¼ã€‚
```

**å…³äºJSP**

SpringBootä¸æ¨èä½¿ç”¨JSPä½œä¸ºViewï¼Œè€Œæ˜¯æ¨èæˆ‘ä»¬ä½¿ç”¨æ¨¡æ¿ï¼ˆå¦‚ï¼šthymeleafã€freemarkerç­‰æ¨¡æ¿å¼•æ“ï¼‰ï¼ŒåŸå› å¦‚ä¸‹ï¼š

1. JSPæ€§èƒ½è¾ƒå·®

2. ç»å¯¹çš„å‰åç«¯åˆ†ç¦»æ€æƒ³ï¼ŒJSPå¹¶ä¸åˆ©äºé¡µé¢è°ƒè¯•ï¼ˆè¿è¡Œä¾èµ–äºwebå®¹å™¨ï¼‰

3. SpringBootå¯¹å†…åµŒwebå®¹å™¨çš„æ”¯æŒé»˜è®¤ä¹Ÿæ˜¯ç”¨tomcatã€‚ä½†tomcatå¯¹webèµ„æºçš„å¤„ç†ä¸Šå†™æ­»äº†è¦ä½¿ç”¨æ–‡ä»¶ç›®å½•ï¼Œå¯¹äºæ‰“åŒ…æˆjaråŒ…çš„SpringBootåº”ç”¨æ¥è¯´ï¼Œæ˜¾ç„¶ä¸è¡Œï¼Œä¹Ÿæœ‰çš„äººæ‰“åŒ…æˆwarï¼Œç„¶åè¿˜æ˜¯éƒ¨ç½²åˆ°tomcatä¸Šï¼Œè¿™æ ·è¿åäº†SpringBootçš„åˆè¡·ï¼Œè¿™æ ·ä¸€æ¥ï¼Œç­‰äºå¦å®šäº†åµŒå…¥å¼å®¹å™¨ï¼Œè€Œä¸”ç¨‹åºå‘˜è¿˜è¦å¤„ç†åµŒå…¥å¼ç¯å¢ƒå’Œå¤–éƒ¨tomcatç¯å¢ƒçš„ä¸åŒå¸¦æ¥çš„é—®é¢˜ã€‚ã€€

æ³¨æ„: åœ¨è®¿é—®jspçš„è¿‡ç¨‹ä¸­å‘ç”Ÿä¸‹è½½ç°è±¡ï¼š1.æ’é™¤jarçš„ä¾èµ–é—®é¢˜ï¼›2.å°†jarä¸­<scope> è®¾ç½®ä¸º compile

## Files Intro

### 1. ç›®å½•ç»“æ„

springbooté¡¹ç›®ç»“æ„æ˜¯mavençš„å¸¸è§„ç»“æ„

```css
é¡¹ç›®å+Applicationï¼šspringbootçš„ç¨‹åºå¯åŠ¨ç±»,é€šè¿‡æ­¤ç±»å¯åŠ¨é¡¹ç›®

staticï¼šé™æ€èµ„æºå­˜æ”¾ç›®å½•

templatesï¼šé™æ€èµ„æºæ¨¡æ¿ç›®å½•

/*YAMLæ˜¯æ ‘å½¢ç»“æ„ï¼Œpropertiesæ˜¯K-Vç»“æ„*/
application.propertiesï¼šæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œä¸¤ç§å½¢å¼ï¼šapplication.propertieså’Œapplication.yml

é¡¹ç›®å+ApplicationTestsï¼šæµ‹è¯•ç¯å¢ƒä¸‹çš„spring bootç¨‹åºå¯åŠ¨ç±»
```

### 2. pomæ–‡ä»¶

**å®šä¹‰<parent>åˆ›å»ºåŸºç¡€å¼•ç”¨**

```xml
<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>2.3.0.RELEASE</version>
		<relativePath/> <!-- lookup parent from repository -->
</parent>

å…³äº<relativePath/>ï¼š
æŸ¥æ‰¾é¡ºåºï¼šrelativePathå…ƒç´ ä¸­çš„åœ°å€â€“æœ¬åœ°ä»“åº“â€“è¿œç¨‹ä»“åº“ï¼›
<relativePath/>è®¾å®šä¸€ä¸ªç©ºå€¼å°†å§‹ç»ˆä»ä»“åº“ä¸­è·å–ï¼Œä¸ä»æœ¬åœ°è·¯å¾„è·å–ï¼›
å­é¡¹ç›®ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ä¼šæŠ¥must be "pom" but is "jar",éœ€å»æ‰æ­¤æ ‡ç­¾ã€‚
```

**æ·»åŠ ä¾èµ–ï¼šæ˜¯ç”¨ä¸€ç³»åˆ—starterå¯åŠ¨å™¨æè¿°å¼•å…¥çš„åŠŸèƒ½**

```xml
<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
            <!--æ’é™¤ä¾èµ– â‘ åœ¨æ‰“åŒ…æ—¶æ’é™¤æ­¤ä¾èµ–
			â‘¡mavençš„ä¾èµ–æœ‰ä¼ é€’æ€§ï¼ŒBé¡¹ç›®ä¸­å¼•å…¥Aé¡¹ç›®ä¾èµ–æ—¶ï¼Œæ’é™¤æ­¤ä¾èµ– -->
			<exclusions>
				<exclusion>
					<groupId>org.junit.vintage</groupId>
					<artifactId>junit-vintage-engine</artifactId>
				</exclusion>
			</exclusions>
		</dependency>
	</dependencies>
```

**å®šä¹‰spring bootæ‰“åŒ…æ–¹å¼ä¸ºç‹¬ç«‹å¯è¿è¡Œçš„jaråŒ…**

```xml
<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
    	</plugins>
</build>
```

### 3. mvnw

ä½œç”¨:

```css
mvnwæ˜¯ä¸€ä¸ªmaven wrapper script,å¯ä»¥è®©ä½ åœ¨æ²¡æœ‰å®‰è£…mavenæˆ–è€…mavenç‰ˆæœ¬ä¸å…¼å®¹çš„æ¡ä»¶ä¸‹è¿è¡Œmavençš„ä»¤.
æ³¨æ„ï¼Œéœ€è¦ä¸mvnwè½¯ä»¶åŒºåˆ†å¼€ï¼Œspringé¡¹ç›®ä¸­çš„mvnwä»…ä»…æ˜¯ä¸ªè„šæœ¬ï¼Œå¹¶éè½¯ä»¶ã€‚
```

åŸç†:

```css
1. é¦–å…ˆå¯»æ‰¾mavenåœ¨ä½ ç”µè„‘ç¯å¢ƒå˜é‡pathä¸­çš„è·¯å¾„
2. å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªè·¯å¾„å®ƒå°±ä¼šè‡ªåŠ¨ä¸‹è½½mavenåˆ°ä¸€ä¸ªé»˜è®¤çš„è·¯å¾„ä¸‹,ä¹‹åä½ å°±å¯ä»¥è¿è¡Œmavenå‘½ä»¤
3. å¦‚æœç¢°åˆ°ä¸€äº›é¡¹ç›®çš„peojectå’Œä½ æœ¬åœ°çš„mavenä¸å…¼å®¹,å®ƒä¼šå¸®ä½ ä¸‹è½½åˆé€‚çš„mavenç‰ˆæœ¬,ç„¶åè¿è¡Œ
```


### 4. mvnw.cmd

æ‰§è¡Œmvnwè„šæœ¬çš„cmdå…¥å£

## Dependency 

### 1. Spring Web
é›†æˆäº†Tomcatã€SpringMVCã€RESTful
### 2. DevTools
ä»£ç ä¿®æ”¹çƒ­æ›´æ–°ï¼Œæ— éœ€é‡å¯
ç›‘æ§ç¨‹åºçš„å˜åŒ–ï¼Œç„¶åè¿›è¡Œè‡ªåŠ¨é‡æ–°å¯åŠ¨
### 3. Lombok
æ¶ˆé™¤æ¨¡æ¿ä»£ç ï¼šgetterã€setterã€æ„é€ å™¨ã€toString()ã€equals()ç­‰
		åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼Œæ³¨è§£åä¾¿å¯ç›´æ¥è°ƒç”¨

**æ³¨è§£ä»‹ç»**

```properties
@NonNull : è®©ä½ ä¸åœ¨æ‹…å¿§å¹¶ä¸”çˆ±ä¸ŠNullPointerException

@CleanUp : è‡ªåŠ¨èµ„æºç®¡ç†ï¼šä¸ç”¨å†åœ¨finallyä¸­æ·»åŠ èµ„æºçš„closeæ–¹æ³•

@Setter/@Getter : è‡ªåŠ¨ç”Ÿæˆsetå’Œgetæ–¹æ³•

@ToString : è‡ªåŠ¨ç”ŸæˆtoStringæ–¹æ³•

@EqualsAndHashcode : ä»å¯¹è±¡çš„å­—æ®µä¸­ç”ŸæˆhashCodeå’Œequalsçš„å®ç°

@NoArgsConstructor/@RequiredArgsConstructor/@AllArgsConstructor:è‡ªåŠ¨ç”Ÿæˆæ„é€ æ–¹æ³•

@Data : è‡ªåŠ¨ç”Ÿæˆset/getæ–¹æ³•ï¼ŒtoStringæ–¹æ³•ï¼Œequalsæ–¹æ³•ï¼ŒhashCodeæ–¹æ³•ï¼Œä¸å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•

@Value : ç”¨äºæ³¨è§£finalç±»

@Builder : äº§ç”Ÿå¤æ‚çš„æ„å»ºå™¨apiç±»

@SneakyThrows : å¼‚å¸¸å¤„ç†ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰

@Synchronized : åŒæ­¥æ–¹æ³•å®‰å…¨çš„è½¬åŒ–

@Getter(lazy=true) :
    ï¼ˆ1ï¼‰è¯¥æ ‡æ³¨ç”¨äºç”Ÿæˆä¸€ä¸ª lazy ç‰ˆçš„ getterï¼Œå®ƒä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨è¿™ä¸ª getter æ—¶è®¡ç®—ä¸€æ¬¡å€¼ï¼Œç„¶åä»é‚£é‡Œå¼€å§‹ç¼“å­˜å®ƒã€‚å¦‚æœè®¡ç®—è¯¥å€¼éœ€è¦å¤§é‡ CPUï¼Œæˆ–è€…è¯¥å€¼å ç”¨å¤§é‡å†…å­˜ï¼Œè¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚
    æ³¨æ„ï¼šLombok ä¼šè‡ªåŠ¨å»ç®¡ç†çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¸ä¼šå­˜åœ¨é‡å¤èµ‹å€¼çš„é—®é¢˜ã€‚
    ï¼ˆ2ï¼‰è¦ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª private final å˜é‡ï¼Œå¹¶ä¸”ä½¿ç”¨è¿è¡Œæˆæœ¬é«˜çš„è¡¨è¾¾å¼å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼ŒåŒæ—¶ä½¿ç”¨ @Getter(lazy=true) æ³¨è§£è¿›è¡Œæ ‡æ³¨ã€‚
    ç¤ºä¾‹

@Log : æ”¯æŒå„ç§loggerå¯¹è±¡ï¼Œä½¿ç”¨æ—¶ç”¨å¯¹åº”çš„æ³¨è§£ï¼Œå¦‚ï¼š@Log4j

ä½¿ç”¨æŠ€å·§:
    åœ¨ Bean / Entity ç±»ä¸Šä½¿ç”¨ @Data æ³¨è§£ã€‚
    éœ€è¦ä½¿ç”¨ Log å¯¹è±¡çš„åœ°æ–¹ä½¿ç”¨ @Log4jï¼ˆä¾é¡¹ç›®æ—¥å¿—æ¡†æ¶å†³å®šï¼‰ã€‚
    æ³¨æ„ï¼šlombok çš„æ³¨è§£ä¸èƒ½è¢«ç»§æ‰¿ã€‚
```

### 4. Spring Configuration Processor

è®©é…ç½®æ–‡ä»¶æœ‰æç¤º
		ä½¿ç”¨å…¶ä»–é…ç½®æ–‡ä»¶xmlæˆ–properties

**ç¤ºä¾‹**
		ä½¿ç”¨ @EnableConfigurationPropertieså¼€å¯ @ConfigurationPropertiesæ³¨è§£

```java
@Data
@Component
@ConfigurationProperties(prefix = "author")
@PropertySource(value = {"classpath:demo.properties" }, ignoreResourceNotFound = false, encoding = "UTF-8", name = "demo.properties")
public class Demo {
  private String name;
  private int age;
}
```
```java
@RestController
@EnableConfigurationProperties
public class DemoController {
    @Autowired
    Demo demo;
    @RequestMapping("/")
    public String index(){
        return "author's name is " + demo.getName() + ",ahtuor's age is " + demo.getAge();
    }
}
```
ç”±äºä½¿ç”¨ @Value éœ€è¦æ³¨å…¥çš„å€¼è¾ƒå¤šæ—¶ï¼Œä»£ç å°±ä¼šæ˜¾å¾—å†—ä½™ï¼Œäºæ˜¯ @ConfigurationPropertiesç™»åœºäº†
```java
@Data
@Component
@PropertySource(value = {"classpath:static/config/demo.properties" }, ignoreResourceNotFound = false, encoding = "UTF-8", name = "demo.properties")
public class AuthorTest {
    @Value ("${author.name}") 
    private String name;
    @value ("${author. age}"
    private int age;
}
```

### 5. Spring Session
**ä¸ºä»€ä¹ˆä½¿ç”¨**

```css
å¸ƒå¼åº”ç”¨å’Œé›†ç¾¤åº”ç”¨ä¸­ï¼Œç”¨æˆ·çš„è¯·æ±‚å¯èƒ½è¢«è´Ÿè½½åˆ†å‘è‡³ä¸åŒçš„æœåŠ¡å™¨ï¼Œæ­¤æ—¶ä¼ ç»Ÿçš„webå®¹å™¨ç®¡ç†ç”¨æˆ·ä¼šè¯sessionçš„æ–¹å¼å³è¡Œä¸é€šã€‚é™¤éé›†ç¾¤æˆ–è€…åˆ†å¸ƒå¼webåº”ç”¨èƒ½å¤Ÿå…±äº«sessionï¼Œå°½ç®¡tomcatç­‰æ”¯æŒè¿™æ ·åšã€‚ä½†æ˜¯è¿™æ ·å­˜åœ¨ä»¥ä¸‹ä¸¤ç‚¹é—®é¢˜ï¼š

éœ€è¦ä¾µå…¥webå®¹å™¨ï¼Œæé«˜é—®é¢˜çš„å¤æ‚

webå®¹å™¨ä¹‹é—´å…±äº«sessionï¼Œé›†ç¾¤æœºå™¨ä¹‹é—´åŠ¿å¿…è¦äº¤äº’è€¦åˆ
```

**sessionå®¹å™¨**

```css
ä½¿ç”¨ç¬¬ä¸‰æ–¹ä»“å‚¨æ¥å®ç°é›†ç¾¤sessionç®¡ç†ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„åˆ†å¸ƒå¼sessionå®¹å™¨ï¼Œæ›¿æ¢åº”ç”¨å®¹å™¨ï¼ˆå¦‚tomcatçš„sessionå®¹å™¨ï¼‰ã€‚ä»“å‚¨çš„å®ç°ï¼ŒSpring Sessionæä¾›äº†ä¸‰ä¸ªå®ç°ï¼ˆredisï¼Œmongodbï¼Œjdbcï¼‰ï¼Œå…¶ä¸­redisä½¿æˆ‘ä»¬æœ€å¸¸ç”¨çš„ã€‚

å¯ä»¥éå¸¸æ–¹ä¾¿çš„æ‰©å±•Cookieå’Œè‡ªå®šä¹‰Sessionç›¸å…³çš„Listenerï¼ŒFilterã€‚

å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¸Spring Securityé›†æˆï¼Œå¢åŠ è¯¸å¦‚findSessionsByUserNameï¼ŒrememberMeï¼Œé™åˆ¶åŒä¸€ä¸ªè´¦å·å¯ä»¥åŒæ—¶åœ¨çº¿çš„Sessionæ•°ï¼ˆå¦‚è®¾ç½®æˆ1ï¼Œå³å¯è¾¾åˆ°æŠŠå‰ä¸€æ¬¡ç™»å½•é¡¶æ‰çš„æ•ˆæœï¼‰ç­‰ç­‰
```



####6. Spring Reactive Web

Spring çš„reactive webæ¡†æ¶ï¼šwebflux

```css
spring-webflux

spring-webfluxä¸spring-webmvcå¹³çº§

webmvcæ˜¯servlet stack  based,è€Œwebfluxæ˜¯reactive stack basedã€‚

webfluxæ˜¯ä¸€ä¸ªå®Œå…¨çš„reactiveå¹¶ä¸”éé˜»å¡çš„webæ¡†æ¶ã€‚

fluxï¼šâ€œæµâ€çš„æ„æ€ï¼ˆstream, flux, rate, class, blast, gradeï¼‰
ä½œç”¨ï¼šå°±æ˜¯webfluxå¯ä»¥è®©ä½ åœ¨webåº”ç”¨ä¸‹ä¹Ÿå¯ä»¥ä½“éªŒtcpé•¿è¿æ¥ä¼ è¾“æµæ•°æ®çš„å¿«æ„Ÿäº†ã€‚è¿™åœ¨è¿‡å»æˆ‘ä»¬éƒ½æ˜¯é€šè¿‡ä¸€äº›å¥‡æŠ€æ·«å·§æ‰èƒ½å®ç°çš„èƒ½åŠ›ã€‚
```

## é…ç½®æ–‡ä»¶ 

### 0. å¸¸ç”¨é…ç½®

**Server**

```Â properties
server.address ---------æœåŠ¡å™¨åœ°å€
server.port ---------æœåŠ¡å™¨ç«¯å£
server.context-parameters.[param name] ---------è®¾ç½® servlet ä¸Šä¸‹æ–‡å‚æ•°
server.context-path ---------åº”ç”¨ä¸Šä¸‹æ–‡è·¯å¾„
```
**Session**

```properties
server.session.cookie.domain ------å›è¯ Cookie çš„åŸŸ
server.session.cookie.comment Cookie ---------æ³¨é‡Š
server.session.cookie.max-age Cookie ---------æœ€å¤§ä¿å­˜æ—¶é—´ï¼ˆå•ä½ sï¼‰
server.session.cookie.name Cookie ---------åç§°
server.session.cookie.timeout ---------è¶…æ—¶æ—¶é—´
```
**Tomcat**

```properties
server.tomcat.accesslog.directory ----åˆ›å»ºæ—¥å¿—æ–‡ä»¶çš„ç›®å½•
server.tomcat.accesslog.enabled ---------æ˜¯å¦å¼€å¯è®¿é—®æ—¥å¿—ï¼ˆé»˜è®¤ï¼šfalseï¼‰
server.tomcat.accesslog.pattern ---------è®¿é—®æ—¥å¿—çš„æ ¼å¼ï¼ˆé»˜è®¤commonï¼‰
server.tomcat.accesslog.prefix ---------æ—¥å¿—åå‰ç¼€ï¼ˆé»˜è®¤ï¼šaccess_logï¼‰
server.tomcat.accesslog.suffix ---------æ—¥å¿—ååç¼€ï¼ˆé»˜è®¤ï¼š.logï¼‰
server.tomcat.max-http-header-sizeHttp ---------æ¶ˆæ¯å¤´æœ€å¤§å­—èŠ‚æ•°ï¼ˆé»˜è®¤ï¼š0ï¼‰
server.tomcat.uri-encoding ---------ç”¨æ¥è§£ç  URI çš„å­—ç¬¦ç¼–ç 
```
**æ—¥å¿—é…ç½®**

```properties
# æ—¥å¿—é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚ ä¾‹å¦‚å¯¹äºLogbackçš„`classpathï¼šlogback.xml`
logging.config= 
# ï¼…wEx#è®°å½•å¼‚å¸¸æ—¶ä½¿ç”¨çš„è½¬æ¢å­—ã€‚
logging.exception-conversion-word= 
# æ—¥å¿—æ–‡ä»¶åã€‚ ä¾‹å¦‚`myapp.log`
logging.file= 
# æ—¥å¿—çº§åˆ«ä¸¥é‡æ€§æ˜ å°„ã€‚ ä¾‹å¦‚`logging.level.org.springframework = DEBUG`
logging.level.*= 
# æ—¥å¿—æ–‡ä»¶çš„ä½ç½®ã€‚ ä¾‹å¦‚`/ var / log`
logging.path= 
# ç”¨äºè¾“å‡ºåˆ°æ§åˆ¶å°çš„Appenderæ¨¡å¼ã€‚ åªæ”¯æŒé»˜è®¤çš„logbackè®¾ç½®ã€‚
logging.pattern.console= 
# ç”¨äºè¾“å‡ºåˆ°æ–‡ä»¶çš„Appenderæ¨¡å¼ã€‚ åªæ”¯æŒé»˜è®¤çš„logbackè®¾ç½®ã€‚
logging.pattern.file= 
# æ—¥å¿—çº§åˆ«çš„Appenderæ¨¡å¼ï¼ˆé»˜è®¤ï¼…5pï¼‰ã€‚ åªæ”¯æŒé»˜è®¤çš„logbackè®¾ç½®ã€‚
logging.pattern.level= 
#æ³¨å†Œæ—¥å¿—è®°å½•ç³»ç»Ÿçš„åˆå§‹åŒ–æŒ‚é’©ã€‚
logging.register-shutdown-hook= false
```
**AOP åˆ‡é¢**

```properties
# æ·»åŠ @EnableAspectJAutoProxyã€‚
spring.aop.auto= true
# æ˜¯å¦è¦åˆ›å»ºåŸºäºå­ç±»ï¼ˆCGLIBï¼‰çš„ä»£ç†ï¼ˆtrueï¼‰ï¼Œè€Œä¸æ˜¯åŸºäºæ ‡å‡†çš„åŸºäºJavaæ¥å£çš„ä»£ç†ï¼ˆfalseï¼‰
spring.aop.proxy-target-class= false
```
**åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡åˆå§‹åŒ–å™¨**

```properties
# åº”ç”¨æŒ‡æ ‡ã€‚
spring.application.index= 
# åº”ç”¨ç¨‹åºåç§°ã€‚
spring.application.name= 
```
**å›½é™…åŒ–ï¼ˆæ¶ˆæ¯æºè‡ªåŠ¨é…ç½®ï¼‰**

```properties
spring.messages.basename= messages
# ä»¥é€—å·åˆ†éš”çš„åŸºç¡€åç§°åˆ—è¡¨ï¼Œæ¯ä¸ªéƒ½åœ¨ResourceBundleçº¦å®šä¹‹åã€‚
# åŠ è½½çš„èµ„æºæŸæ–‡ä»¶ç¼“å­˜åˆ°æœŸï¼Œä»¥ç§’ä¸ºå•ä½ã€‚ è®¾ç½®ä¸º-1æ—¶ï¼Œè½¯ä»¶åŒ…å°†æ°¸ä¹…ç¼“å­˜ã€‚
spring.messages.cache-seconds= -1
# æ¶ˆæ¯ç¼–ç ã€‚
spring.messages.encoding= UTF-8
# è®¾ç½®æ˜¯å¦è¿”å›åˆ°ç³»ç»ŸåŒºåŸŸè®¾ç½®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ç‰¹å®šè¯­è¨€ç¯å¢ƒçš„æ–‡ä»¶ã€‚
spring.messages.fallback-to-system-locale= true
```
### 1. Spring MVC
```properties
# å¼‚æ­¥è¯·æ±‚å¤„ç†è¶…æ—¶ä¹‹å‰çš„æ—¶é—´é‡ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
spring.mvc.async.request-timeout=
# è¦ä½¿ç”¨çš„æ—¥æœŸæ ¼å¼ ä¾‹å¦‚`dd / MM / yyyy`
spring.mvc.date-format=
# å‘é€TRACEè¯·æ±‚åˆ°FrameworkServlet doServiceæ–¹æ³•
spring.mvc.dispatch-trace-request= false
# å‘é€OPTIONSè¯·æ±‚åˆ°FrameworkServlet doServiceæ–¹æ³•
spring.mvc.dispatch-options-request= false
# å¯ç”¨favicon.icoçš„è§£æ
spring.mvc.favicon.enabled= true
# å¦‚æœåœ¨é‡å®šå‘æ–¹æ¡ˆæœŸé—´åº”è¯¥å¿½ç•¥â€œé»˜è®¤â€æ¨¡å‹çš„å†…å®¹
spring.mvc.ignore-default-model-on-redirect= true
# è¦ä½¿ç”¨çš„åŒºåŸŸè®¾ç½®
spring.mvc.locale=
# å°†æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ°å†…å®¹åå•†çš„åª’ä½“ç±»å‹
spring.mvc.media-types.*=
# æ¶ˆæ¯ä»£ç æ ¼å¼ç­–ç•¥ ä¾‹å¦‚`PREFIX_ERROR_CODE`
spring.mvc.message-codes-resolver-format=
# ç”¨äºé™æ€èµ„æºçš„è·¯å¾„æ¨¡å¼
spring.mvc.static-path-pattern= /**
# å¦‚æœæ²¡æœ‰å‘ç°å¤„ç†ç¨‹åºæ¥å¤„ç†è¯·æ±‚ï¼Œåˆ™åº”æŠ›å‡ºâ€œNoHandlerFoundExceptionâ€
spring.mvc.throw-exception-if-no-handler-found= false
# Spring MVCè§†å›¾å‰ç¼€
spring.mvc.view.prefix=
# Spring MVCè§†å›¾åç¼€
spring.mvc.view.suffix=
```
### 2. FreeMarker
```properties
spring.freemarker.allow-request-override=false
è®¾ç½®æ˜¯å¦å…è®¸HttpServletRequestå±æ€§è¦†ç›–(éšè—)æ§åˆ¶å™¨ç”Ÿæˆçš„åŒåæ¨¡å‹å±æ€§ã€‚
spring.freemarker.allow-session-override=false
è®¾ç½®æ˜¯å¦å…è®¸HttpSessionå±æ€§è¦†ç›–(éšè—)æ§åˆ¶å™¨ç”Ÿæˆçš„åŒåæ¨¡å‹å±æ€§ã€‚
spring.freemarker.cache=false
å¯ç”¨æ¨¡æ¿ç¼“å­˜
spring.freemarker.charset=UTF-8
è®¾ç½®ç¼–ç æ ¼å¼
spring.freemarker.check-template-location=true
æ£€æŸ¥æ¨¡æ¿ä½ç½®æ˜¯å¦å­˜åœ¨ã€‚
spring.freemarker.content-type=text/html
å†…å®¹ç±»å‹å€¼
spring.freemarker.enabled=true
ä¸ºè¿™ç§æŠ€æœ¯å¯ç”¨MVCè§†å›¾è§£å†³æ–¹æ¡ˆã€‚
spring.freemarker.expose-request-attributes=false
è®¾ç½®æ˜¯å¦åº”è¯¥åœ¨ä¸æ¨¡æ¿åˆå¹¶ä¹‹å‰å°†æ‰€æœ‰è¯·æ±‚å±æ€§æ·»åŠ åˆ°æ¨¡å‹ä¸­ã€‚
spring.freemarker.expose-session-attributes=false
è®¾ç½®æ˜¯å¦åœ¨ä¸æ¨¡æ¿åˆå¹¶ä¹‹å‰å°†æ‰€æœ‰HttpSessionå±æ€§æ·»åŠ åˆ°æ¨¡å‹ä¸­ã€‚
spring.freemarker.expose-spring-macro-helpers=true
è®¾ç½®æ˜¯å¦å…¬å¼€RequestContextä¾›Springå®åº“ä½¿ç”¨ï¼Œåç§°ä¸ºâ€œSpringMacroRequestContextâ€ã€‚
spring.freemarker.prefer-file-system-access=true
æ›´å–œæ¬¢æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ¨¡æ¿åŠ è½½ã€‚æ–‡ä»¶ç³»ç»Ÿè®¿é—®å…è®¸å¯¹æ¨¡æ¿æ›´æ”¹è¿›è¡Œçƒ­æ£€æµ‹ã€‚
spring.freemarker.prefix=
å‰ç¼€ï¼Œç”¨äºåœ¨æ„å»ºURLæ—¶æŸ¥çœ‹åç§°
spring.freemarker.request-context-attribute=
æ‰€æœ‰è§†å›¾çš„RequestContextå±æ€§çš„åç§°ã€‚
spring.freemarker.settings.*=
ä¼—æ‰€å‘¨çŸ¥çš„FreeMarkerå¯†é’¥å°†ä¼ é€’ç»™FreeMarkerçš„é…ç½®ã€‚
spring.freemarker.suffix=
åç¼€ï¼Œè¯¥åç¼€ç”¨äºåœ¨æ„å»ºURLæ—¶æŸ¥çœ‹åç§°ã€‚
spring.freemarker.template-loader-path=classpath:/templates/
ä»¥é€—å·åˆ†éš”çš„æ¨¡æ¿è·¯å¾„åˆ—è¡¨ã€‚
spring.freemarker.view-names=
å¯ä»¥è§£æçš„è§†å›¾åç§°çš„ç™½åˆ—è¡¨ã€‚
```
### 3. Thymeleaf
```properties
spring.thymeleaf.cache = true #å¯ç”¨æ¨¡æ¿ç¼“å­˜
spring.thymeleaf.check-template-location = true #æ£€æŸ¥æ¨¡æ¿ä½ç½®æ˜¯å¦å­˜åœ¨
spring.thymeleaf.content-type = text / html #Content-Typeå€¼
spring.thymeleaf.enabled = true #å¯ç”¨MVC Thymeleafè§†å›¾åˆ†è¾¨ç‡
spring.thymeleaf.encoding = UTF-8 #æ¨¡æ¿ç¼–ç 
spring.thymeleaf.excluded-view-names = #åº”è¯¥ä»è§£å†³æ–¹æ¡ˆä¸­æ’é™¤çš„è§†å›¾åç§°çš„é€—å·åˆ†éš”åˆ—è¡¨
spring.thymeleaf.mode = HTML5 #åº”ç”¨äºæ¨¡æ¿çš„æ¨¡æ¿æ¨¡å¼å¦è¯·å‚è§

StandardTemplateModeHandlers
spring.thymeleaf.prefix = classpathï¼š/ templates / #åœ¨æ„å»ºURLæ—¶é¢„å…ˆæŸ¥çœ‹åç§°çš„å‰ç¼€
spring.thymeleaf.suffix = .html #æ„å»ºURLæ—¶é™„åŠ æŸ¥çœ‹åç§°çš„åç¼€
spring.thymeleaf.template-resolver-order = #é“¾ä¸­æ¨¡æ¿è§£æå™¨çš„é¡ºåº
spring.thymeleaf.view-names = #å¯ä»¥è§£æçš„è§†å›¾åç§°çš„é€—å·åˆ†éš”åˆ—è¡¨
```
### 4. DataSource
```properties
spring.datasource.continue-on-error = false #åˆå§‹åŒ–æ•°æ®åº“æ—¶å‘ç”Ÿé”™è¯¯æ—¶ä¸è¦åœæ­¢
spring.datasource.data = #Dataï¼ˆDMLï¼‰è„šæœ¬èµ„æºå¼•ç”¨
spring.datasource.driver-class-name = #JDBCé©±åŠ¨ç¨‹åºçš„å®Œå…¨é™å®šåç§°é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ¹æ®URLè‡ªåŠ¨æ£€æµ‹
spring.datasource.initialize = true #ä½¿ç”¨'data.sql'å¡«å……æ•°æ®åº“
spring.datasource.jmx-enabled = false #å¯ç”¨JMXæ”¯æŒï¼ˆå¦‚æœç”±åº•å±‚æ± æä¾›ï¼‰
spring.datasource.jndi-name = #æ•°æ®æºçš„JNDIä½ç½®è®¾ç½®æ—¶ï¼Œç±»ï¼Œç½‘å€ï¼Œç”¨æˆ·åå’Œå¯†ç å°†è¢«å¿½ç•¥
spring.datasource.max-active = #ä¾‹å¦‚100
spring.datasource.max-idle = #ä¾‹å¦‚8
spring.datasource.maxç­‰å¾…=
spring.datasource.min-evictableç©ºé—²æ—¶é—´-ç±³åˆ©æ–¯=
spring.datasource.min-idle = 8
spring.datasource.name = testdb #æ•°æ®æºçš„åç§°
spring.datasource.password = #ç™»å½•æ•°æ®åº“çš„å¯†ç 
spring.datasource.platform = all #åœ¨èµ„æºæ¨¡å¼ï¼ˆschema - $ {platform} .sqlï¼‰ä¸­ä½¿ç”¨çš„å¹³å°
spring.datasource.schema = #Schemaï¼ˆDDLï¼‰è„šæœ¬èµ„æºå¼•ç”¨
spring.datasource.separator =;  #è¯­å¥åˆ†éš”ç¬¦åœ¨SQLåˆå§‹åŒ–è„šæœ¬ä¸­
spring.datasource.sql-script-encoding = #SQLè„šæœ¬ç¼–ç 
spring.datasource.test-on-borrow = #ä¾‹å¦‚`false`
spring.datasource.test-on-return = #ä¾‹å¦‚`false`
spring.datasource.test-while-idle = #
spring.datasource.time-between-eviction-runs-millis = 1
spring.datasource.type = #è¦ä½¿ç”¨çš„è¿æ¥æ± å®ç°çš„å®Œå…¨é™å®šåç§°é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ä»ç±»è·¯å¾„è‡ªåŠ¨æ£€æµ‹çš„
spring.datasource.url = #æ•°æ®åº“çš„JDBC url
spring.datasource.username=
spring.datasource.validation-query=
```
### 5. Redis
```properties
# è¿æ¥å·¥å‚ä½¿ç”¨çš„æ•°æ®åº“ç´¢å¼•
spring.redis.database= 0
# RedisæœåŠ¡å™¨ä¸»æœº
spring.redis.host= localhost
# ç™»å½•redisæœåŠ¡å™¨çš„å¯†ç 
spring.redis.password=
# ç»™å®šæ—¶é—´æ± å¯ä»¥åˆ†é…çš„æœ€å¤§è¿æ¥æ•° ä½¿ç”¨è´Ÿå€¼ä¸ºæ— é™åˆ¶
spring.redis.pool.max-active= 8
# æ± ä¸­â€œç©ºé—²â€è¿æ¥çš„æœ€å¤§æ•°é‡ ä½¿ç”¨è´Ÿå€¼æ¥è¡¨ç¤ºæ— é™æ•°é‡çš„ç©ºé—²è¿æ¥
spring.redis.pool.max-idle= 8
# è¿æ¥åˆ†é…åœ¨æ± è€—å°½ä¹‹å‰åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰åº”é˜»æ­¢çš„æœ€å¤§æ—¶é—´é‡ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ ä½¿ç”¨è´Ÿå€¼æ— é™æœŸåœ°é˜»æ­¢
spring.redis.pool.max-wait= -1
# å®šä¹‰æ± ä¸­ç»´æŠ¤çš„æœ€å°ç©ºé—²è¿æ¥æ•° æ­¤è®¾ç½®åªæœ‰åœ¨æ­£å€¼æ—¶æ‰æœ‰æ•ˆæœ
spring.redis.pool.min-idle= 0
# redisæœåŠ¡å™¨ç«¯å£
spring.redis.port= 6379
# redisæœåŠ¡å™¨åç§°
spring.redis.sentinel.master=
#
spring.redis.sentinel.nodes=
# è¿æ¥è¶…æ—¶ï¼ˆæ¯«ç§’ï¼‰
spring.redis.timeout= 0
```
### 6. JMS
```properties
# è¿æ¥å·¥å‚JNDIåç§° è®¾ç½®æ—¶ï¼Œä¼˜å…ˆäºå…¶ä»–è¿æ¥å·¥å‚è‡ªåŠ¨é…ç½®
spring.jms.jndi-name=
# å®¹å™¨çš„ç¡®è®¤æ¨¡å¼ é»˜è®¤æƒ…å†µä¸‹ï¼Œç›‘å¬å™¨è¢«è‡ªåŠ¨ç¡®è®¤å¤„ç†
spring.jms.listener.acknowledge-mode=
# å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨å®¹å™¨
spring.jms.listener.auto-startup= true
# æœ€å°å¹¶å‘æ¶ˆè´¹è€…æ•°
spring.jms.listener.concurrency=
# æœ€å¤§å¹¶å‘æ¶ˆè´¹è€…æ•°
spring.jms.listener.max-concurrency=
# æŒ‡å®šé»˜è®¤çš„ç›®çš„åœ°ç±»å‹æ˜¯å¦ä¸ºä¸»é¢˜
spring.jms.pub-sub-domain= false
```
### 7. DEVTools
```properties
# DEVTOOLSï¼ˆå¼€å‘å·¥å…·å±æ€§ï¼‰
# å¯ç”¨ä¸€ä¸ªlivereload.comå…¼å®¹çš„æœåŠ¡å™¨
spring.devtools.livereload.enabled= true
#  # Server port.
spring.devtools.livereload.port= 35729
# åº”è¯¥æ’é™¤çš„è§¦å‘å®Œå…¨é‡æ–°å¯åŠ¨çš„å…¶ä»–æ¨¡å¼
spring.devtools.restart.additional-exclude=
# è§‚çœ‹æ›´æ”¹çš„é™„åŠ è·¯å¾„
spring.devtools.restart.additional-paths=
# å¯ç”¨è‡ªåŠ¨é‡å¯åŠŸèƒ½
spring.devtools.restart.enabled= true
# åº”è¯¥æ’é™¤çš„æ¨¡å¼è§¦å‘å®Œå…¨é‡æ–°å¯åŠ¨
spring.devtools.restart.exclude= META-INF/maven/**,META-INF/resources/**,resources/**,static/**,public/**,templates/**,**/*Test.class,**/*Tests.class,git.properties
# è½®è¯¢ç±»è·¯å¾„æ›´æ”¹ä¹‹é—´ç­‰å¾…çš„æ—¶é—´é‡ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
spring.devtools.restart.poll-interval= 1000
# è§¦å‘é‡æ–°å¯åŠ¨ä¹‹å‰æ²¡æœ‰ä»»ä½•ç±»è·¯å¾„æ›´æ”¹æ‰€éœ€çš„å®‰é™æ—¶é—´é‡ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
spring.devtools.restart.quiet-period= 400
# æ›´æ”¹åçš„ç‰¹å®šæ–‡ä»¶çš„åç§°å°†è§¦å‘é‡æ–°å¯åŠ¨æ£€æŸ¥ å¦‚æœæœªæŒ‡å®šä»»ä½•ç±»è·¯å¾„æ–‡ä»¶æ›´æ”¹å°†è§¦å‘é‡æ–°å¯åŠ¨
spring.devtools.restart.trigger-file=
Spring batch
spring.batch.initializer.enabled = true #å¦‚æœéœ€è¦ï¼Œåœ¨å¯åŠ¨æ—¶åˆ›å»ºæ‰€éœ€çš„æ‰¹å¤„ç†è¡¨
spring.batch.job.enabled = true #åœ¨å¯åŠ¨æ—¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„æ‰€æœ‰Springæ‰¹å¤„ç†ä½œä¸š
spring.batch.job.names = #åœ¨å¯åŠ¨æ—¶æ‰§è¡Œçš„ä½œä¸šåç§°çš„é€—å·åˆ†éš”åˆ—è¡¨ï¼ˆä¾‹å¦‚`job1ï¼Œjob2`ï¼‰ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰§è¡Œåœ¨ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°çš„æ‰€æœ‰ä½œä¸š
spring.batch.schema = classpathï¼šorg / springframework / batch / core / schema - @@ platform @@sql #ç”¨äºåˆå§‹åŒ–æ•°æ®åº“æ¨¡å¼çš„SQLæ–‡ä»¶çš„è·¯å¾„
spring.batch.table-prefix = #æ‰€æœ‰æ‰¹æ¬¡å…ƒæ•°æ®è¡¨çš„è¡¨å‰ç¼€
```
### 8. è¿œç¨‹å¼€å‘å·¥å…·
```properties
# ç”¨äºå¤„ç†è¿œç¨‹è¿æ¥çš„ä¸Šä¸‹æ–‡è·¯å¾„
spring.devtools.remote.context-path= /.~~spring-boot!~
# å¯ç”¨è¿œç¨‹è°ƒè¯•æ”¯æŒ
spring.devtools.remote.debug.enabled= true
# æœ¬åœ°è¿œç¨‹è°ƒè¯•æœåŠ¡å™¨ç«¯å£
spring.devtools.remote.debug.local-port= 8000
# ç”¨äºè¿æ¥åˆ°è¿œç¨‹åº”ç”¨ç¨‹åºçš„ä»£ç†ä¸»æœº
spring.devtools.remote.proxy.host=
# ç”¨äºè¿æ¥åˆ°è¿œç¨‹åº”ç”¨ç¨‹åºçš„ä»£ç†ç«¯å£
spring.devtools.remote.proxy.port=
# å¯ç”¨è¿œç¨‹é‡å¯
spring.devtools.remote.restart.enabled= true
# å»ºç«‹è¿æ¥æ‰€éœ€çš„å…±äº«å¯†é’¥ï¼ˆéœ€è¦å¯ç”¨è¿œç¨‹æ”¯æŒï¼‰
spring.devtools.remote.secret=
# HTTPå¤´ç”¨äºä¼ è¾“å…±äº«å¯†é’¥</ span>
spring.devtools.remote.secret-header-name= X-AUTH-TOKEN
```

##  åº”ç”¨

### 1. æ‰“åŒ…ä¸è¿è¡Œ

1. Mavençš„packageå‘½ä»¤,ç”Ÿæˆå¯ç‹¬ç«‹è¿è¡Œçš„JaråŒ…
2. åˆ©ç”¨java -jar xxx.jarå‘½ä»¤å¯åŠ¨Spring Bootåº”ç”¨

```css
è¿è¡ŒjaråŒ…çš„æ–¹å¼æœ‰ä¸‰ç§
java -jar xxxxx.jar  // å½“å‰sshçª—å£è¢«é”å®šï¼Œå¯æŒ‰CTRL + Cæ‰“æ–­ç¨‹åºè¿è¡Œï¼Œæˆ–ç›´æ¥å…³é—­çª—å£ï¼Œç¨‹åºé€€å‡º
java -jar xxxxx.jar &  //å½“å‰sshçª—å£ä¸è¢«é”å®šï¼Œä½†æ˜¯å½“çª—å£å…³é—­æ—¶ï¼Œç¨‹åºä¸­æ­¢è¿è¡Œã€‚
nohup Java -jar xxxxxx.jar &  //æ„æ€æ˜¯ä¸æŒ‚æ–­è¿è¡Œå‘½ä»¤,å½“è´¦æˆ·é€€å‡ºæˆ–ç»ˆç«¯å…³é—­æ—¶,ç¨‹åºä»ç„¶è¿è¡Œ

jobs æŸ¥çœ‹å½“å‰ç»ˆç«¯è¿è¡Œçš„ä»»åŠ¡
æ€»ç»“å°±æ˜¯ç¬¬ä¸€äºŒç§æ–¹å¼å°±æ˜¯sshçª—å£å¼€ç€æ‰è¿è¡Œï¼›ç¬¬ä¸‰ç§æ–¹å¼æ˜¯çª—å£å…³é—­ä¾ç„¶è¿è¡Œï¼Œè‹¥è¦é€€å‡ºkillè¿›ç¨‹
```

3. jaråŒ…å¯è‡ªåŠ¨åŠ è½½åŒç›®å½•çš„applicationé…ç½®æ–‡ä»¶

```css
å°†é…ç½®æ–‡ä»¶æ”¾ç½®äºjaråŒ…åŒç›®å½•ä¸‹ï¼Œç¨‹åºä¼˜å…ˆè¯»å–ï¼Œç”¨äºä¸åŒç¯å¢ƒçš„é…ç½®ï¼Œå¦‚ï¼š

ç”Ÿäº§ç¯å¢ƒï¼ˆçº¿ä¸Šç¯å¢ƒï¼‰application-prd.yml 
å¼€å‘ç¯å¢ƒï¼ˆçº¿ä¸‹ç¯å¢ƒï¼‰application-dev.yml
æµ‹è¯•ç¯å¢ƒï¼ˆå•å…ƒæµ‹è¯•ï¼‰application-test.yml
```

```yaml
#æ€»é…ç½®æ–‡ä»¶application.ymlæŒ‡å®šå¼€å‘æ¨¡å¼
spring:
 profiles:
  active: prd
```

### 2. è‡ªå®šä¹‰å±æ€§é…ç½®

**æ·»åŠ :**

```properties
com.sam.name=sam
```

**è¯»å–:**

###### 		ç¬¬ä¸€ç§ï¼šä½¿ç”¨springæ”¯æŒçš„@Value()åŠ è½½

```java
@Component
public class Sam {
    //è·å–application.propertiesçš„å±æ€§
    @Value("${com.sam.name}")
    private String name;
}
```

###### 		ç¬¬äºŒç§ï¼šä½¿ç”¨@ConfigurationProperties(prefix="") è®¾ç½®å‰ç¼€ï¼Œå±æ€§ä¸Šä¸éœ€è¦æ·»åŠ æ³¨è§£ã€‚

```java
@Data
@Component
@ConfigurationProperties(prefix = "com.sam")
public class Sam {
    private String name;
}

```

```java
@RestController
public class IndexController {
    @Autowired
    private Sam sam;
    @RequestMapping("/index")
    public String index() {
        System.out.println(sam.getName());
        return "index";
    }
}
```

# æœåŠ¡å™¨

## Apache

### å¿«é€Ÿä½¿ç”¨

#### 1. å¯åŠ¨ Apache æœåŠ¡

åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š`sudo apachectl start`

```properties
åœ¨æµè§ˆå™¨ä¸­è¾“å…¥å¦‚ä¸‹ç½‘å€ï¼Œæ£€æŸ¥ Apache æœåŠ¡æ˜¯å¦å¯åŠ¨æˆåŠŸï¼
    http://localhost
    http://127.0.0.1
åœ¨æ‰“å¼€çš„é¡µé¢ä¸­ï¼Œå¦‚æœæ˜¾ç¤º It worksï¼è¡¨ç¤º Apache æœåŠ¡å¯åŠ¨æˆåŠŸã€‚
```

#### 2. æŸ¥çœ‹ Apache ç‰ˆæœ¬

åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š`sudo apachectl -v`

```properties
åœ¨æœ¬æœºä¸­ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹:
    Server version: Apache/2.4.28 (Unix)
    Server built:   Oct 29 2017 19:28:54
```

#### 3. å…³é—­ Apache æœåŠ¡

åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š`sudo apachectl stop`

#### 4. é‡å¯ Apache æœåŠ¡

åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š`sudo apachectl restart`

### é…ç½®

#### 1. å®‰è£…è·¯å¾„

Apache æœåŠ¡é»˜è®¤å®‰è£…è·¯å¾„åœ¨ /private/etc/apache2/ ï¼Œå±äºç³»ç»Ÿç§æœ‰ç›®å½•ï¼Œä¸å¯ä»¥ç›´æ¥åœ¨ Finder ä¸­æ‰¾åˆ°è¯¥è·¯å¾„

#### 2. éƒ¨ç½²è·¯å¾„

Apache æœåŠ¡éƒ¨ç½²è·¯å¾„åœ¨ èµ„æºåº“/WebServer/Documents/ ï¼Œæˆ‘ä»¬çš„é¡¹ç›®éœ€è¦æ”¾ç½®åœ¨è¯¥è·¯å¾„ä¸‹æ‰èƒ½æ­£å¸¸è®¿é—®ã€‚å¦‚æœæƒ³è¦ä¿®æ”¹éƒ¨ç½²è·¯å¾„ï¼Œå¯ä»¥åœ¨ /private/etc/apache2/ç›®å½•ä¸‹æ‰¾åˆ°å¹¶æ‰“å¼€httpd.confæ–‡ä»¶ï¼Œæœç´¢ DocumentRoot ä¿®æ”¹éƒ¨ç½²è·¯å¾„ã€‚

â€ƒâ€ƒ**æ³¨æ„ï¼šMacä¸‹ä¿®æ”¹è·¯å¾„åï¼Œéƒ¨ç½²æ–‡ä»¶éœ€è¦ä½¿ç”¨  chmod  777  æ–‡ä»¶è·¯å¾„å‘½ä»¤èµ‹äºˆè®¿é—®æƒé™ã€‚**

#### 3. ç«¯å£å·

Apache æœåŠ¡ç«¯å£å·é»˜è®¤ä¸º 80ï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹ç«¯å£å·ï¼Œå¯ä»¥åœ¨/private/etc/apache2/ ç›®å½•ä¸‹æ‰¾åˆ°å¹¶æ‰“å¼€ httpd.conf æ–‡ä»¶ï¼Œæœç´¢  Listen 80 ä¿®æ”¹ç«¯å£å·ã€‚

#### 4. PHPå¯åŠ¨

PHP å¯åŠ¨åªéœ€åœ¨ Apache æœåŠ¡ä¸­è¿›è¡Œä¸€ä¸‹é…ç½®å³å¯ç›´æ¥ä½¿ç”¨ã€‚é¦–å…ˆï¼Œåœ¨ /private/etc/apache2/ ç›®å½•ä¸‹æ‰¾åˆ°å¹¶æ‰“å¼€ httpd.conf æ–‡ä»¶ï¼›å…¶æ¬¡ï¼Œæœç´¢ #LoadModule php5_module libexec/apache2/libphp5.so ï¼Œå°†å‰æ–¹çš„ "#" åˆ é™¤ï¼›å†æ¬¡ï¼Œé‡å¯ Apache æœåŠ¡å³å¯ï¼›æœ€åï¼Œåœ¨éƒ¨ç½²è·¯å¾„ä¸‹æ–°å»ºä¸€ä¸ª test.php æµ‹è¯•ï¼ˆå¦‚ï¼šåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ http://localhost/test.php æŸ¥çœ‹PHPè¾“å‡ºä¿¡æ¯ï¼‰ã€‚



# Script

## crontab

### å¿«é€Ÿä½¿ç”¨

#### 1ã€æŸ¥çœ‹ crontab æ˜¯å¦å¯åŠ¨ï¼ˆå¯é€‰ï¼‰

```shell
sudo launchctl list | grep cron
```

#### 2ã€å‘½ä»¤è¡Œåˆ›å»ºcrontabæ‰§è¡Œæ–‡ä»¶

```shell
> crontab -l
> crontab -e
    */1 * * * * /bin/date >> /Users/xx/time.txt
    * * * * * /bin/date >> /Users/xx/time.txt
ä»¥ä¸Šä»£ç æ˜¯æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡dateå‘½ä»¤ï¼Œè¾“å‡ºæ—¶é—´åˆ°time.txtæ–‡æœ¬
```

**æ³¨æ„ï¼šè‹¥æ‰§è¡Œè„šæœ¬è¦èµ‹æƒé™ï¼šchmod 777 test.sh**

#### 3ã€ä½¿ç”¨crontabå‘½ä»¤è°ƒç”¨crontabæ–‡ä»¶

```shell
crontab testing_crontab
```

### å‘½ä»¤åŠé…ç½®

#### 1. å¯åŠ¨-åœæ­¢

```shell
linux
/sbin/service crond start   å¯åŠ¨æœåŠ¡
/sbin/service crond stop    å…³é—­æœåŠ¡
/sbin/service crond restart é‡å¯æœåŠ¡
/sbin/service crond reload  é‡æ–°è½½å…¥é…ç½®
sudo /etc/init.d/cron start
sudo /etc/init.d/cron stop
sudo /etc/init.d/cron restart

mac
sudo /usr/sbin/cron start
sudo /usr/sbin/cron restart
sudo /usr/sbin/cron stop
```

#### 2. å‘½ä»¤æ ¼å¼

```shell
crontab [-u user] file 
crontab [-u user] [ -e | -l | -r ]
```

```css
*   -u userï¼šç”¨æ¥è®¾å®šæŸä¸ªç”¨æˆ·çš„crontabæœåŠ¡ï¼›
*   fileï¼šfileæ˜¯å‘½ä»¤æ–‡ä»¶çš„åå­—,è¡¨ç¤ºå°†fileåšä¸ºcrontabçš„ä»»åŠ¡åˆ—è¡¨æ–‡ä»¶å¹¶è½½å…¥crontabã€‚å¦‚æœåœ¨å‘½ä»¤è¡Œä¸­æ²¡æœ‰æŒ‡å®šè¿™ä¸ªæ–‡ä»¶ï¼Œcrontabå‘½ä»¤å°†æ¥å—æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰ä¸Šé”®å…¥çš„å‘½ä»¤ï¼Œå¹¶å°†å®ƒä»¬è½½å…¥crontabã€‚
*   -eï¼šç¼–è¾‘æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ã€‚å¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºç¼–è¾‘å½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶ã€‚
*   -lï¼šæ˜¾ç¤ºæŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ã€‚
*   -rï¼šä»/var/spool/cronç›®å½•ä¸­åˆ é™¤æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™é»˜è®¤åˆ é™¤å½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶ã€‚
*   -iï¼šåœ¨åˆ é™¤ç”¨æˆ·çš„crontabæ–‡ä»¶æ—¶ç»™ç¡®è®¤æç¤ºã€‚
```

#### 3. cron expression

```jsx
åˆ† æ—¶ æ—¥ æœˆ æ˜ŸæœŸ è¦è¿è¡Œçš„å‘½ä»¤
*   ç¬¬1åˆ—åˆ†é’Ÿ0ï½59
*   ç¬¬2åˆ—å°æ—¶0ï½23ï¼ˆ0è¡¨ç¤ºå­å¤œï¼‰
*   ç¬¬3åˆ—æ—¥1ï½31
*   ç¬¬4åˆ—æœˆ1ï½12
*   ç¬¬5åˆ—æ˜ŸæœŸ0ï½7ï¼ˆ0å’Œ7è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰
*   ç¬¬6åˆ—è¦è¿è¡Œçš„å‘½ä»¤
```

```jsx
â€*â€ ä»£è¡¨å–å€¼èŒƒå›´å†…çš„æ•°å­—
â€œ/â€ ä»£è¡¨â€æ¯â€
â€œ-â€ ä»£è¡¨ä»æŸä¸ªæ•°å­—åˆ°æŸä¸ªæ•°å­—
â€œ,â€ åˆ†å¼€å‡ ä¸ªç¦»æ•£çš„æ•°å­—
```

#### 4. ä½¿ç”¨å®ä¾‹

```shell
å®ä¾‹1ï¼šæ¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡myCommand
* * * * * myCommand

å®ä¾‹2ï¼šæ¯å°æ—¶çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ
3,15 * * * * myCommand

å®ä¾‹3ï¼šåœ¨ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ
3,15 8-11 * * * myCommand

å®ä¾‹4ï¼šæ¯éš”ä¸¤å¤©çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ
3,15 8-11 */2  *  * myCommand

å®ä¾‹5ï¼šæ¯å‘¨ä¸€ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ
3,15 8-11 * * 1 myCommand

å®ä¾‹6ï¼šæ¯æ™šçš„21:30é‡å¯smb
30 21 * * * /etc/init.d/smb restart

å®ä¾‹7ï¼šæ¯æœˆ1ã€10ã€22æ—¥çš„4 : 45é‡å¯smb
45 4 1,10,22 * * /etc/init.d/smb restart

å®ä¾‹8ï¼šæ¯å‘¨å…­ã€å‘¨æ—¥çš„1 : 10é‡å¯smb
10 1 * * 6,0 /etc/init.d/smb restart

å®ä¾‹9ï¼šæ¯å¤©18 : 00è‡³23 : 00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯smb
0,30 18-23 * * * /etc/init.d/smb restart

å®ä¾‹10ï¼šæ¯æ˜ŸæœŸå…­çš„æ™šä¸Š11 : 00 pmé‡å¯smb
0 23 * * 6 /etc/init.d/smb restart

å®ä¾‹11ï¼šæ¯ä¸€å°æ—¶é‡å¯smb
* */1 * * * /etc/init.d/smb restart

å®ä¾‹12ï¼šæ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯smb
0 23-7 * * * /etc/init.d/smb restart

å®ä¾‹13ï¼šæ¯10ç§’æ‰§è¡Œä¸€æ¬¡
* * * * * /Users/hao/Desktop/test.sh
* * * * * sleep 10;/Users/hao/Desktop/test.sh
* * * * * sleep 20;/Users/hao/Desktop/test.sh
* * * * * sleep 30;/Users/hao/Desktop/test.sh
* * * * * sleep 40;/Users/hao/Desktop/test.sh
* * * * * sleep 50;/Users/hao/Desktop/test.sh
```

#### 5. é—®é¢˜è®°å½•

**crontabæ— æ³•æ‰§è¡Œgit push**

```css
httpè¿æ¥ï¼š
åœ¨.git/configä¸‹é…ç½®å¥½ç”¨æˆ·åå¯†ç 
url = https://HHHao-1:chzaizg556677@github.com/HHHao-1/Notes.git
æˆ–è€…åœ¨è„šæœ¬ä¸­
git push https://HHHao-1:chzaizg556677@github.com/HHHao-1/Notes.git master
    
sshè¿æ¥:
æŸ¥çœ‹è„šæœ¬log
00 12 * * * /home/user/project_path/push.sh >> /home/user/document/error.log 2>&1
$ cat /home/user/document/error.log
å‘ç°é”™è¯¯çš„æ˜¯ id_rsa çš„æƒé™é—®é¢˜,id_rsa çš„æƒé™æ˜¯ 700
sudo chmod 700 ~/.ssh/id_rsa
```

### é™„æ³¨

#### 1. ç¯å¢ƒå˜é‡é—®é¢˜

æœ‰æ—¶æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªcrontabï¼Œä½†æ˜¯è¿™ä¸ªä»»åŠ¡å´æ— æ³•è‡ªåŠ¨æ‰§è¡Œï¼Œè€Œæ‰‹åŠ¨æ‰§è¡Œè¿™ä¸ªä»»åŠ¡å´æ²¡æœ‰é—®é¢˜ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯ç”±äºåœ¨crontabæ–‡ä»¶ä¸­æ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡å¼•èµ·çš„ã€‚

ä¸è¦å‡å®šcronçŸ¥é“æ‰€éœ€è¦çš„ç‰¹æ®Šç¯å¢ƒï¼Œå®ƒå…¶å®å¹¶ä¸çŸ¥é“ã€‚æ‰€ä»¥ä½ è¦ä¿è¯åœ¨shelllè„šæœ¬ä¸­æä¾›æ‰€æœ‰å¿…è¦çš„è·¯å¾„å’Œç¯å¢ƒå˜é‡ï¼Œé™¤äº†ä¸€äº›è‡ªåŠ¨è®¾ç½®çš„å…¨å±€å˜é‡ã€‚æ‰€ä»¥æ³¨æ„å¦‚ä¸‹3ç‚¹ï¼š

1. è„šæœ¬ä¸­æ¶‰åŠæ–‡ä»¶è·¯å¾„æ—¶å†™å…¨å±€è·¯å¾„ï¼›
2. è„šæœ¬æ‰§è¡Œè¦ç”¨åˆ°javaæˆ–å…¶ä»–ç¯å¢ƒå˜é‡æ—¶ï¼Œé€šè¿‡sourceå‘½ä»¤å¼•å…¥ç¯å¢ƒå˜é‡ï¼Œå¦‚:

```bash
cat start_cbp.sh
    !/bin/sh
    source /etc/profile
    export RUN_CONF=/home/d139/conf/platform/cbp/cbp_jboss.conf
    /usr/local/jboss-4.0.5/bin/run.sh -c mev &
```

å½“æ‰‹åŠ¨æ‰§è¡Œè„šæœ¬OKï¼Œä½†æ˜¯crontabæ­»æ´»ä¸æ‰§è¡Œæ—¶,å¾ˆå¯èƒ½æ˜¯ç¯å¢ƒå˜é‡æƒ¹çš„ç¥¸ï¼Œå¯å°è¯•åœ¨crontabä¸­ç›´æ¥å¼•å…¥ç¯å¢ƒå˜é‡è§£å†³é—®é¢˜ã€‚å¦‚:

```shell
0 * * * * . /etc/profile;/bin/sh /var/www/java/audit_no_count/bin/restart_audit.sh
```

#### 2. æ¸…ç†ç³»ç»Ÿç”¨æˆ·é‚®ä»¶æ—¥å¿—

æ¯æ¡ä»»åŠ¡è°ƒåº¦æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿéƒ½ä¼šå°†ä»»åŠ¡è¾“å‡ºä¿¡æ¯é€šè¿‡ç”µå­é‚®ä»¶çš„å½¢å¼å‘é€ç»™å½“å‰ç³»ç»Ÿç”¨æˆ·ï¼Œè¿™æ ·æ—¥ç§¯æœˆç´¯ï¼Œæ—¥å¿—ä¿¡æ¯ä¼šéå¸¸å¤§ï¼Œå¯èƒ½ä¼šå½±å“ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œï¼Œå› æ­¤ï¼Œå°†æ¯æ¡ä»»åŠ¡è¿›è¡Œé‡å®šå‘å¤„ç†éå¸¸é‡è¦ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨crontabæ–‡ä»¶ä¸­è®¾ç½®å¦‚ä¸‹å½¢å¼ï¼Œå¿½ç•¥æ—¥å¿—è¾“å‡º:

```shell
0 */3 * * * /usr/local/apache2/apachectl restart >/dev/null 2>&1
```

â€œ/dev/null 2>&1â€è¡¨ç¤ºå…ˆå°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°/dev/nullï¼Œç„¶åå°†æ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºï¼Œç”±äºæ ‡å‡†è¾“å‡ºå·²ç»é‡å®šå‘åˆ°äº†/dev/nullï¼Œå› æ­¤æ ‡å‡†é”™è¯¯ä¹Ÿä¼šé‡å®šå‘åˆ°/dev/nullï¼Œè¿™æ ·æ—¥å¿—è¾“å‡ºé—®é¢˜å°±è§£å†³äº†ã€‚

#### 3. å…³äº/dev/nullæ–‡ä»¶

/dev/null æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå†™å…¥åˆ°å®ƒçš„å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼›å¦‚æœå°è¯•ä»è¯¥æ–‡ä»¶è¯»å–å†…å®¹ï¼Œé‚£ä¹ˆä»€ä¹ˆä¹Ÿè¯»ä¸åˆ°ã€‚ä½†æ˜¯ /dev/null æ–‡ä»¶éå¸¸æœ‰ç”¨ï¼Œå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å®ƒï¼Œä¼šèµ·åˆ°"ç¦æ­¢è¾“å‡º"çš„æ•ˆæœã€‚å¦‚æœå¸Œæœ›å±è”½ stdout å’Œ stderrï¼Œå¯ä»¥è¿™æ ·å†™ï¼š

```shell
$ command > /dev/null 2>&1
```

> **æ³¨æ„ï¼š**0 æ˜¯æ ‡å‡†è¾“å…¥ï¼ˆSTDINï¼‰ï¼Œ1 æ˜¯æ ‡å‡†è¾“å‡ºï¼ˆSTDOUTï¼‰ï¼Œ2 æ˜¯æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆSTDERRï¼‰ã€‚

#### 4. çº§ä»»åŠ¡è°ƒåº¦ä¸ç”¨æˆ·çº§ä»»åŠ¡è°ƒåº¦

ç³»ç»Ÿçº§ä»»åŠ¡è°ƒåº¦ä¸»è¦å®Œæˆç³»ç»Ÿçš„ä¸€äº›ç»´æŠ¤æ“ä½œï¼Œç”¨æˆ·çº§ä»»åŠ¡è°ƒåº¦ä¸»è¦å®Œæˆç”¨æˆ·è‡ªå®šä¹‰çš„ä¸€äº›ä»»åŠ¡ï¼Œå¯ä»¥å°†ç”¨æˆ·çº§ä»»åŠ¡è°ƒåº¦æ”¾åˆ°ç³»ç»Ÿçº§ä»»åŠ¡è°ƒåº¦æ¥å®Œæˆï¼ˆä¸å»ºè®®è¿™ä¹ˆåšï¼‰ï¼Œä½†æ˜¯åè¿‡æ¥å´ä¸è¡Œï¼Œrootç”¨æˆ·çš„ä»»åŠ¡è°ƒåº¦æ“ä½œå¯ä»¥é€šè¿‡â€crontab â€“uroot â€“eâ€æ¥è®¾ç½®ï¼Œä¹Ÿå¯ä»¥å°†è°ƒåº¦ä»»åŠ¡ç›´æ¥å†™å…¥/etc/crontabæ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦å®šä¹‰ä¸€ä¸ªå®šæ—¶é‡å¯ç³»ç»Ÿçš„ä»»åŠ¡ï¼Œå°±å¿…é¡»å°†ä»»åŠ¡æ”¾åˆ°/etc/crontabæ–‡ä»¶ï¼Œå³ä½¿åœ¨rootç”¨æˆ·ä¸‹åˆ›å»ºä¸€ä¸ªå®šæ—¶é‡å¯ç³»ç»Ÿçš„ä»»åŠ¡ä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚

#### 5. å…¶ä»–æ³¨æ„äº‹é¡¹
```shell
1. æ–°åˆ›å»ºçš„cron jobï¼Œä¸ä¼šé©¬ä¸Šæ‰§è¡Œï¼Œè‡³å°‘è¦è¿‡2åˆ†é’Ÿæ‰æ‰§è¡Œã€‚å¦‚æœé‡å¯cronåˆ™é©¬ä¸Šæ‰§è¡Œã€‚

2. å½“crontabå¤±æ•ˆæ—¶ï¼Œå¯ä»¥å°è¯•é‡å¯è§£å†³é—®é¢˜ã€‚

   æˆ–è€…æŸ¥çœ‹æ—¥å¿—çœ‹æŸä¸ªjobæœ‰æ²¡æœ‰æ‰§è¡Œ/æŠ¥é”™ï¼štail -f /var/log/cronã€‚

3. åƒä¸‡åˆ«ä¹±è¿è¡Œcrontab -rã€‚å®ƒä»Crontabç›®å½•ï¼ˆ/var/spool/cronï¼‰ä¸­åˆ é™¤ç”¨æˆ·çš„Crontabæ–‡ä»¶ã€‚åˆ é™¤äº†è¯¥ç”¨æˆ·çš„æ‰€æœ‰crontabéƒ½æ²¡äº†ã€‚

4. åœ¨crontabä¸­%æ˜¯æœ‰ç‰¹æ®Šå«ä¹‰çš„ï¼Œè¡¨ç¤ºæ¢è¡Œçš„æ„æ€ã€‚å¦‚æœè¦ç”¨çš„è¯å¿…é¡»è¿›è¡Œè½¬ä¹‰%ï¼Œå¦‚ç»å¸¸ç”¨çš„date +%dï¼Œå¯¹%éœ€è¦ä½¿ç”¨\è¿›è¡Œè½¬ä¹‰ï¼Œå¦åˆ™ä¸èƒ½æŒ‰é¢„æœŸæ‰§è¡Œï¼Œæ­£ç¡®åšæ³•ä¸ºï¼š
   echo "`date +\%d`" > /tmp/r1r.txt
   è€Œä¸èƒ½ä¸º
   echo "`date +%d`" > /tmp/r1r.txt

5. æ›´æ–°ç³»ç»Ÿæ—¶é—´æ—¶åŒºåéœ€è¦é‡å¯cronã€‚

6. crontab æ˜¯ç³»ç»Ÿè‡ªåŠ¨å¯åŠ¨çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œä¸èƒ½æ€æ­»ï¼Œæ€æ­»ååˆä¼šé‡ç”Ÿï¼Œå› ä¸ºäººå®¶æ˜¯ crontab å•Šï¼Œç”Ÿæ¥å°±æ˜¯ä¸èƒ½åœæ­¢å·¥ä½œçš„ã€‚
```



## Shell

###æ—¥æœŸè¾“å‡º

```shell
å°†å½“å‰æ—¶é—´å’ŒåŒ…å«æ¢è¡Œç¬¦çš„æ–‡æœ¬å†…å®¹è¾“å‡ºåˆ°æ–‡ä»¶

echo -e $(date) "\nHello World !" >> test.txt

å°†å½“å‰æ—¶é—´ï¼ˆæ ¼å¼åŒ–ï¼‰å’ŒåŒ…å«æ¢è¡Œç¬¦çš„æ–‡æœ¬å†…å®¹è¾“å‡ºåˆ°æ–‡ä»¶

echo -e `date '+%Y-%m-%d %H:%M:%S %A'` "\nHello World !" >> test.txt

åŒä¸Šï¼Œç®€åŒ–ç‰ˆ

echo -e `date '+%F %T %A'` "\nHello World !" >> test.txt

è¾“å‡ºåˆ°ä»¥æ—¥æœŸæ ¼å¼æ–‡ä»¶å

echo -e $(date) "\nHello World !" >> test`date +'%Y-%m-%d'`.txt
```



# Webå‰ç«¯

## CSS

### csså®šä½

```CSS
position å±æ€§çš„äº”ä¸ªå€¼ï¼š
staticï¼ˆæ— å®šä½ï¼‰ã€fixedï¼ˆå›ºå®šï¼‰ã€absoluteï¼ˆç»å¯¹ï¼‰ã€relativeï¼ˆç›¸å¯¹ï¼‰ã€stickyï¼ˆç²˜æ€§ï¼‰

é‡å çš„å…ƒç´ ï¼šz-index
```

**ç¤ºä¾‹**

```css
img {    
    /*HTML å…ƒç´ çš„é»˜è®¤å€¼ï¼Œå³æ²¡æœ‰å®šä½ï¼Œéµå¾ªæ­£å¸¸çš„æ–‡æ¡£æµå¯¹è±¡;
    é™æ€å®šä½çš„å…ƒç´ ä¸ä¼šå—åˆ° top, bottom, left, rightå½±å“ã€‚*/
    position:static; 
    
    /*å…ƒç´ çš„ä½ç½®ç›¸å¯¹äºæµè§ˆå™¨çª—å£æ˜¯å›ºå®šä½ç½®ï¼›
	å³ä½¿çª—å£æ˜¯æ»šåŠ¨çš„å®ƒä¹Ÿä¸ä¼šç§»åŠ¨ï¼›
    Fixedå®šä½ä½¿å…ƒç´ çš„ä½ç½®ä¸æ–‡æ¡£æµæ— å…³ï¼Œå› æ­¤ä¸å æ®ç©ºé—´ã€‚*/
    position:fixed; 
    
    /*ç»å¯¹å®šä½çš„å…ƒç´ çš„ä½ç½®ç›¸å¯¹äºæœ€è¿‘çš„å·²å®šä½çˆ¶å…ƒç´ ,
    å¦‚æœå…ƒç´ æ²¡æœ‰å·²å®šä½çš„çˆ¶å…ƒç´ ï¼Œé‚£ä¹ˆå®ƒçš„ä½ç½®ç›¸å¯¹äº<html>;
    absolute å®šä½ä½¿å…ƒç´ çš„ä½ç½®ä¸æ–‡æ¡£æµæ— å…³ï¼Œå› æ­¤ä¸å æ®ç©ºé—´ã€‚*/
    position:absolute;
    
    /*ç›¸å¯¹å®šä½å…ƒç´ çš„å®šä½æ˜¯ç›¸å¯¹å…¶æ­£å¸¸ä½ç½®ï¼›
    ç§»åŠ¨ç›¸å¯¹å®šä½å…ƒç´ ï¼Œä½†å®ƒåŸæœ¬æ‰€å çš„ç©ºé—´ä¸ä¼šæ”¹å˜ï¼›
    ç›¸å¯¹å®šä½å…ƒç´ ç»å¸¸è¢«ç”¨æ¥ä½œä¸ºç»å¯¹å®šä½å…ƒç´ çš„å®¹å™¨å—ã€‚*/
    position:relative;
    
    /*å…ƒç´ å®šä½è¡¨ç°ä¸ºåœ¨è·¨è¶Šç‰¹å®šé˜ˆå€¼å‰ä¸ºç›¸å¯¹å®šä½ï¼Œä¹‹åä¸ºå›ºå®šå®šä½ã€‚
	æ—¢æŒ‡å®š top, right, bottom æˆ– left å››ä¸ªé˜ˆå€¼å…¶ä¸­ä¹‹ä¸€ï¼Œæ‰å¯ä½¿ç²˜æ€§å®šä½ç”Ÿæ•ˆï¼Œ
    å¦åˆ™å…¶è¡Œä¸ºä¸ç›¸å¯¹å®šä½ç›¸åŒã€‚*/
    /*æ»šåŠ¨è¶…å‡ºå±å¹•çª—å£ï¼Œå…ƒç´ è´´åœ¨è¾¹ç¼˜*/
    position:sticky;
    top: 0;
    
    /*å…ƒç´ çš„å®šä½ä¸æ–‡æ¡£æµæ— å…³ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è¦†ç›–é¡µé¢ä¸Šçš„å…¶å®ƒå…ƒç´ 
	z-indexå±æ€§æŒ‡å®šäº†ä¸€ä¸ªå…ƒç´ çš„å †å é¡ºåºï¼ˆå“ªä¸ªå…ƒç´ åº”è¯¥æ”¾åœ¨å‰é¢ï¼Œæˆ–åé¢ï¼‰
	ä¸€ä¸ªå…ƒç´ å¯ä»¥æœ‰æ­£æ•°æˆ–è´Ÿæ•°çš„å †å é¡ºåº*/
    z-index:-1; }
```

### @media

**@media å¯ä»¥é’ˆå¯¹ä¸åŒçš„å±å¹•å°ºå¯¸è®¾ç½®ä¸åŒçš„æ ·å¼**

åœ¨ä½¿ç”¨Mediaçš„æ—¶å€™éœ€è¦å…ˆè®¾ç½®ä¸‹é¢è¿™æ®µä»£ç ï¼Œæ¥å…¼å®¹ç§»åŠ¨è®¾å¤‡çš„å±•ç¤ºæ•ˆæœï¼š

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

width = device-widthï¼šå®½åº¦ç­‰äºå½“å‰è®¾å¤‡çš„å®½åº¦
height = device-heightï¼šé«˜åº¦ç­‰äºå½“å‰è®¾å¤‡çš„é«˜åº¦
initial-scaleï¼šåˆå§‹çš„ç¼©æ”¾æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰  
minimum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰    
maximum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å¤§æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰   
user-scalableï¼šç”¨æˆ·æ˜¯å¦å¯ä»¥æ‰‹åŠ¨ç¼©æ”¾ï¼ˆé»˜è®¤è®¾ç½®ä¸ºnoï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·æ”¾å¤§ç¼©å°é¡µé¢ï¼‰ 
```

**CSS è¯­æ³•**

```css
@media *mediatype* and|not|only *(media feature)* {*
  CSS-Code;
*}
```

ä¹Ÿå¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ä½¿ç”¨ä¸åŒ *stylesheets* :

```css
<link rel="stylesheet" media="*mediatype* and|not|only (*media feature*)" href="*mystylesheet.css*">
```

| mediatyp | ç”¨äºæ‰€æœ‰è®¾å¤‡                         |
| -------- | ------------------------------------ |
| all      | ç”¨äºæ‰€æœ‰è®¾å¤‡                         |
| print    | ç”¨äºæ‰“å°æœºå’Œæ‰“å°é¢„è§ˆ                 |
| screen   | ç”¨äºç”µè„‘å±å¹•ï¼Œå¹³æ¿ç”µè„‘ï¼Œæ™ºèƒ½æ‰‹æœºç­‰ã€‚ |
| speech   | åº”ç”¨äºå±å¹•é˜…è¯»å™¨ç­‰å‘å£°è®¾å¤‡           |

| media feature           | æè¿°                                                         |
| :---------------------- | :----------------------------------------------------------- |
| aspect-ratio            | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢å¯è§åŒºåŸŸå®½åº¦ä¸é«˜åº¦çš„æ¯”ç‡                 |
| color                   | å®šä¹‰è¾“å‡ºè®¾å¤‡æ¯ä¸€ç»„å½©è‰²åŸä»¶çš„ä¸ªæ•°ã€‚å¦‚æœä¸æ˜¯å½©è‰²è®¾å¤‡ï¼Œåˆ™å€¼ç­‰äº0 |
| color-index             | å®šä¹‰åœ¨è¾“å‡ºè®¾å¤‡çš„å½©è‰²æŸ¥è¯¢è¡¨ä¸­çš„æ¡ç›®æ•°ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨å½©è‰²æŸ¥è¯¢è¡¨ï¼Œåˆ™å€¼ç­‰äº0 |
| device-aspect-ratio     | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•å¯è§å®½åº¦ä¸é«˜åº¦çš„æ¯”ç‡ã€‚                     |
| device-height           | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•å¯è§é«˜åº¦ã€‚                                 |
| device-width            | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•å¯è§å®½åº¦ã€‚                                 |
| grid                    | ç”¨æ¥æŸ¥è¯¢è¾“å‡ºè®¾å¤‡æ˜¯å¦ä½¿ç”¨æ …æ ¼æˆ–ç‚¹é˜µã€‚                         |
| height                  | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢å¯è§åŒºåŸŸé«˜åº¦ã€‚                           |
| max-aspect-ratio        | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•å¯è§å®½åº¦ä¸é«˜åº¦çš„æœ€å¤§æ¯”ç‡ã€‚                 |
| max-color               | å®šä¹‰è¾“å‡ºè®¾å¤‡æ¯ä¸€ç»„å½©è‰²åŸä»¶çš„æœ€å¤§ä¸ªæ•°ã€‚                       |
| max-color-index         | å®šä¹‰åœ¨è¾“å‡ºè®¾å¤‡çš„å½©è‰²æŸ¥è¯¢è¡¨ä¸­çš„æœ€å¤§æ¡ç›®æ•°ã€‚                   |
| max-device-aspect-ratio | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•å¯è§å®½åº¦ä¸é«˜åº¦çš„æœ€å¤§æ¯”ç‡ã€‚                 |
| max-device-height       | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•å¯è§çš„æœ€å¤§é«˜åº¦ã€‚                           |
| max-device-width        | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•æœ€å¤§å¯è§å®½åº¦ã€‚                             |
| max-height              | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢æœ€å¤§å¯è§åŒºåŸŸé«˜åº¦ã€‚                       |
| max-monochrome          | å®šä¹‰åœ¨ä¸€ä¸ªå•è‰²æ¡†æ¶ç¼“å†²åŒºä¸­æ¯åƒç´ åŒ…å«çš„æœ€å¤§å•è‰²åŸä»¶ä¸ªæ•°ã€‚     |
| max-resolution          | å®šä¹‰è®¾å¤‡çš„æœ€å¤§åˆ†è¾¨ç‡ã€‚                                       |
| max-width               | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢æœ€å¤§å¯è§åŒºåŸŸå®½åº¦ã€‚                       |
| min-aspect-ratio        | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢å¯è§åŒºåŸŸå®½åº¦ä¸é«˜åº¦çš„æœ€å°æ¯”ç‡ã€‚           |
| min-color               | å®šä¹‰è¾“å‡ºè®¾å¤‡æ¯ä¸€ç»„å½©è‰²åŸä»¶çš„æœ€å°ä¸ªæ•°ã€‚                       |
| min-color-index         | å®šä¹‰åœ¨è¾“å‡ºè®¾å¤‡çš„å½©è‰²æŸ¥è¯¢è¡¨ä¸­çš„æœ€å°æ¡ç›®æ•°ã€‚                   |
| min-device-aspect-ratio | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•å¯è§å®½åº¦ä¸é«˜åº¦çš„æœ€å°æ¯”ç‡ã€‚                 |
| min-device-width        | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•æœ€å°å¯è§å®½åº¦ã€‚                             |
| min-device-height       | å®šä¹‰è¾“å‡ºè®¾å¤‡çš„å±å¹•çš„æœ€å°å¯è§é«˜åº¦ã€‚                           |
| min-height              | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢æœ€å°å¯è§åŒºåŸŸé«˜åº¦ã€‚                       |
| min-monochrome          | å®šä¹‰åœ¨ä¸€ä¸ªå•è‰²æ¡†æ¶ç¼“å†²åŒºä¸­æ¯åƒç´ åŒ…å«çš„æœ€å°å•è‰²åŸä»¶ä¸ªæ•°       |
| min-resolution          | å®šä¹‰è®¾å¤‡çš„æœ€å°åˆ†è¾¨ç‡ã€‚                                       |
| min-width               | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢æœ€å°å¯è§åŒºåŸŸå®½åº¦ã€‚                       |
| monochrome              | å®šä¹‰åœ¨ä¸€ä¸ªå•è‰²æ¡†æ¶ç¼“å†²åŒºä¸­æ¯åƒç´ åŒ…å«çš„å•è‰²åŸä»¶ä¸ªæ•°ã€‚å¦‚æœä¸æ˜¯å•è‰²è®¾å¤‡ï¼Œåˆ™å€¼ç­‰äº0 |
| orientation             | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢å¯è§åŒºåŸŸé«˜åº¦æ˜¯å¦å¤§äºæˆ–ç­‰äºå®½åº¦ã€‚         |
| resolution              | å®šä¹‰è®¾å¤‡çš„åˆ†è¾¨ç‡ã€‚å¦‚ï¼š96dpi, 300dpi, 118dpcm                 |
| scan                    | å®šä¹‰ç”µè§†ç±»è®¾å¤‡çš„æ‰«æå·¥åºã€‚                                   |
| width                   | å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­çš„é¡µé¢å¯è§åŒºåŸŸå®½åº¦ã€‚                           |

**ç¤ºä¾‹**

```css
/*max-width: 500pxä¸ºé¡µé¢å¯è§åŒºåŸŸæœ€å¤§å®½åº¦ï¼Œå¯åœ¨æµè§ˆå™¨å¼€å‘æ¨¡å¼ä¸­æŸ¥è¯¢å„è®¾å¤‡åŒ¹é…å€¼*/
@media only screen and (max-width: 500px) {
    .gridmenu {
        width:100%;
    }
    .gridmain {
        width:100%;
    }
    .gridright {
        width:100%;
    }
}

/*æ¨ªå±*/
@media all and (orientation : landscape) { 
h2{color:red;}
} 

/*ç«–å±*/
@media all and (orientation : portrait){ 
h2{color:green;}
} 
```

## JSON

### ç®€ä»‹

JSON(JavaScript Object Notationï¼šJavaScriptå¯¹è±¡è¡¨ç¤ºæ³•)ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œå…·æœ‰è‰¯å¥½çš„å¯è¯»å’Œä¾¿äºå¿«é€Ÿç¼–å†™çš„ç‰¹æ€§ã€‚å¯åœ¨ä¸åŒå¹³å°ä¹‹é—´è¿›è¡Œæ•°æ®äº¤æ¢ã€‚JSONé‡‡ç”¨å…¼å®¹æ€§å¾ˆé«˜çš„ã€å®Œå…¨ç‹¬ç«‹äºè¯­è¨€çš„ä¸€ç§æ–‡æœ¬æ ¼å¼ï¼Œå¹¶ä¸”å¯è¯»æ€§å¾ˆé«˜ã€‚è¿™äº›ç‰¹æ€§ä½¿JSONæˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚**å­˜å‚¨ã€ä¼ è¾“æ•°æ®**

### åº”ç”¨

#### è¯­æ³•

**ä¸€ä¸ªjsonå¯¹è±¡**

```json
{
  "students": [
    { "firstName": "san", "lastName": "zhang" },
    { "firstName": "si", "lastName": "li" },
  ]
}
```

**å¤šä¸ªjsonå¯¹è±¡**

```json
[
  {"students_1class": { "firstName": "san", "lastName": "zhang" }},
  {"students_2class": { "firstName": "si", "lastName": "li" }}
]

æ³¨æ„ï¼škey--valueéƒ½è¦ç”¨åŒå¼•å·
```

**jsonå¯¹è±¡ä¸å­—ç¬¦ä¸²äº’ç›¸è½¬æ¢**

JSON.parse( )æ–¹æ³•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºJSONå¯¹è±¡

JSON.stringifyo)æ–¹æ³•å°†JSONå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²

```js
var str = '{"name":"å°æ"}';
var json = JSON.parse(str);
var json1 = { "name": "å°ç‹" };
var str1 = JSON.stringify(json1);
var json2 = {};
json2.name = "å°å‘¨"
```

**jsonä¸javaäº¤äº’**

jsonè§£æå·¥å…·ï¼šFastJson, Jackson, Gsonç­‰ã€‚

jsonä½¿ç”¨FastJsonåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼š

```java
//@JSONField(format="yyyy-MM-dd HH:mm:ss SSS")
@JSONField(name = "hiredate" , format="yyyy-MM-dd")
private Date hdate;
@JSONField(serialize = false)
private String dname;

//javaå¯¹è±¡åºåˆ—åŒ–ä¸ºjsonå­—ç¬¦ä¸²
//åºåˆ—åŒ–è‡ªåŠ¨å¿½ç•¥ä¸ºnullçš„å¯¹è±¡å±æ€§
String json = JSON.toJSONString(employee);
//jsonå­—ç¬¦ä¸²åºåˆ—åŒ–ä¸ºjavaå¯¹è±¡
//ååºåˆ—åŒ–ä¸å¿½ç•¥jsonå­—ç¬¦ä¸²ä¸­çš„nullå€¼
Employee emp = JSON.parseObject(json, Employee.class);

//javaæ•°ç»„å¯¹è±¡çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–
List emplist = new ArrayList();
for (int i = 1 ; i <= 100 ; i++) {
	Employee employee = new Employee();
	employee.setEmpno(4488 + i);
	emplist.add(employee);
}
String json = JSON.toJSONString(emplist);
List<Employee> emps = JSON.parseArray(json , Employee.class);
```

## XML

###  ç®€ä»‹

æ‰©å±•æ ‡è®°è¯­è¨€ (Extensible Markup Language, XML) ï¼Œç”¨äºæ ‡è®°ç”µå­æ–‡ä»¶ä½¿å…¶å…·æœ‰ç»“æ„æ€§çš„æ ‡è®°è¯­è¨€ï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°æ•°æ®ã€å®šä¹‰æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ç§å…è®¸ç”¨æˆ·å¯¹è‡ªå·±çš„æ ‡è®°è¯­è¨€è¿›è¡Œå®šä¹‰çš„æºè¯­è¨€ã€‚ ç¼–å†™XMLå°±æ˜¯ç¼–å†™æ ‡ç­¾,ä¸HTMLéå¸¸ç±»ä¼¼ï¼Œå…·æœ‰è‰¯å¥½çš„äººæœºå¯è¯»æ€§ã€‚**å­˜å‚¨ã€ä¼ è¾“æ•°æ®**

### è¯­æ³•

1. ç¬¬ä¸€è¡Œå¿…é¡»æ˜¯XMLå£°æ˜

```css
XMLå£°æ˜è¯´æ˜XMLæ–‡æ¡£çš„åŸºæœ¬ä¿¡æ¯,åŒ…æ‹¬ç‰ˆæœ¬å·ä¸å­—ç¬¦é›†ã€‚
<?xml version="1.0" encoding="UTF-8"?>
```

2. åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå„ä¸ªèŠ‚ç‚¹å¯å¢æ·»å±æ€§

```xml
<shop-cart>
	<item sn="771938" category="ç”µå™¨">
		<name>XXç©ºè°ƒ</name>
		<price> 2000.00</price>
		<num>1</num>
	</item>
	<item sn="890321" category="é£Ÿå“"><name>æ³•å¼é¢åŒ…</name>
		<price>10.00</price>
		<num>5</num>
	</item>
</shop-cart>
```

3. æœ‰åºçš„å­å…ƒç´ 

   åœ¨XMLå¤šå±‚åµŒå¥—çš„å­å…ƒç´ ä¸­,æ ‡ç­¾å‰åé¡ºåºåº”ä¿æŒä¸€è‡´ã€‚

```xml
<shop-cart>
	<item sn="771938" category="ç”µå™¨"><name>XXç©ºè°ƒ</name>
		<price> 2000.00</price>
		<num>1</num>
	</item>
	<item sn="890321" category="é£Ÿå“"><name>æ³•å¼é¢åŒ…</name>
		<price> 10.00</price>
		<num>5</num>
	</item>
</shop-cart>
```

4. å¤„ç†ç‰¹æ®Šå­—ç¬¦

æ ‡ç­¾ä½“ä¸­,å‡ºç°"<"ã€">"ç‰¹æ®Šå­—ç¬¦,ä¼šç ´åæ–‡æ¡£ç»“æ„

```xml
æ— æ•ˆçš„XML :
<exam>
    <question>1+4<3æ˜¯å¦æ­£ç¡®? </question>
    <question>3+5>8æ˜¯å¦æ­£ç¡®? </question>
</exam>
```

è§£å†³æ–¹æ¡ˆ1:ä½¿ç”¨å®ä½“å¼•ç”¨

| \&lt;   | <    | å°äº   |
| ------ | ---- | ------ |
| \&gt;   | >    | å¤§äº   |
| \&amp;  | &    | å’Œå·   |
| \&apos; | '    | çœç•¥å· |
| \&quot; | "    | å¼•å·   |

è§£å†³æ–¹æ¡ˆ2 :ä½¿ç”¨CDATAæ ‡ç­¾

CDATAæŒ‡çš„æ˜¯ä¸åº”ç”±XMLè§£æå™¨è¿›è¡Œè§£æçš„æ–‡æœ¬æ•°æ®ï¼Œä»"<![CDATA[å¿½ç•¥æ£€æŸ¥çš„æ–‡æœ¬]]> "ç»“æŸ

```xml
åœ¨CDATAä¸­å°†æ–‡æœ¬çš„å†…å®¹å†™å…¥ï¼Œé‚£ä¹ˆè¿™æ®µæ–‡æœ¬å†…å®¹ä¼šè¢«å¿½ç•¥æ£€æŸ¥ï¼Œæ— è®ºé‡Œé¢æ˜¯å¦åŒ…å«XMLæ•æ„Ÿå†…å®¹ï¼Œå…¨éƒ¨è¢«å½“ä½œæ™®é€šçš„æ–‡æœ¬å»çœ‹å¾…ã€‚ä¾‹å¦‚ï¼š
<content>
    <![ CDATA [
        <script language="javascript">
            function sayhello(){ alert("hello!"); }
        </script>
    ] ] >  
</content>
```

5. XMLè¯­ä¹‰çº¦æŸ

XMLæ–‡æ¡£ç»“æ„æ­£ç¡®ï¼Œä½†å¯èƒ½ä¸æ˜¯æœ‰æ•ˆçš„ã€‚ä¾‹å¦‚,å‘˜å·¥æ¡£æ¡ˆXMLä¸­ç»ä¸å…è®¸å‡ºç°"æ¤ç‰©å“ç§"æ ‡ç­¾ã€‚XMLè¯­ä¹‰çº¦æŸå°±æ˜¯ç”¨äºè§„å®šXMLæ–‡æ¡£ä¸­å…è®¸å‡ºç°å“ªäº›å…ƒç´ ã€‚

**XMLè¯­ä¹‰çº¦æŸæœ‰ä¸¤ç§å®šä¹‰æ–¹å¼:DTDä¸XML Schema**

â‘  DTD(Document Type Definition ,æ–‡æ¡£ç±»å‹å®šä¹‰)æ˜¯ä¸€ç§ç®€å•æ˜“ç”¨çš„è¯­ä¹‰çº¦æŸæ–¹å¼ï¼Œæ‰©å±•åä¸º.dtdã€‚

```dtd
<!--DTDä¸­çš„<!ELEMENT>æ ‡ç­¾,å¯ä»¥å®šä¹‰XMLæ–‡æ¡£ä¸­å…è®¸å‡ºç°çš„èŠ‚ç‚¹åŠæ•°é‡-->
å®šä¹‰hrèŠ‚ç‚¹ä¸‹åªå…è®¸å‡ºç°1ä¸ªemployeeå­èŠ‚ç‚¹
<!ELEMENT hr (employee)>
employeeèŠ‚ç‚¹ä¸‹å¿…é¡»åŒ…å«ä»¥ä¸‹å››ä¸ªèŠ‚ç‚¹,ä¸”æŒ‰é¡ºåºå‡ºç°ã€‚
<!ELEMENT employee (name,age,salary,department)>
å®šä¹‰nameæ ‡ç­¾ä½“åªèƒ½æ˜¯æ–‡æœ¬, #PCDATAä»£è¡¨æ–‡æœ¬å…ƒç´ ã€‚
<!ELEMENT name (#PCDATA)>

<!--DTDå®šä¹‰èŠ‚ç‚¹æ•°é‡-->
<!--å¦‚æŸä¸ªå­èŠ‚ç‚¹éœ€è¦å¤šæ¬¡é‡å¤å‡ºç°,åˆ™éœ€è¦åœ¨å­èŠ‚ç‚¹åå¢åŠ ç›¸åº”çš„æè¿°ç¬¦-->
hrèŠ‚ç‚¹ä¸‹æœ€å°‘å‡ºç°1ä¸ªemployeeå­èŠ‚ç‚¹ã€‚
<!ELEMENT hr (employee+)>
hrèŠ‚ç‚¹ä¸‹å¯å‡ºç°0..nä¸ªemployeeå­èŠ‚ç‚¹ã€‚
<!ELEMENT hr (employee*)>
hrèŠ‚ç‚¹ä¸‹æœ€å¤šå‡ºç°1ä¸ªemploveeå­èŠ‚ç‚¹ã€‚
<!ELEMENT hr (employee?)>

<!--XMLå¼•ç”¨DTDæ–‡ä»¶-->
åœ¨XMLä¸­ä½¿ç”¨<!DOCTYPE>æ ‡ç­¾æ¥å¼•ç”¨DTDæ–‡ä»¶
<!DOCTYPE æ ¹èŠ‚ç‚¹ SYSTEM "dtdæ–‡ä»¶è·¯å¾„">
<!DOCTYPE hr SYSTEM "hr.dtd">
```

â‘¡ XML Schemaæ¯”DTDæ›´ä¸ºå¤æ‚,æä¾›äº†æ›´å¤šåŠŸèƒ½

æä¾›äº†æ•°æ®ç±»å‹ã€æ ¼å¼é™å®šã€æ•°æ®èŒƒå›´ç­‰ç‰¹æ€§ï¼›æ˜¯W3Cæ ‡å‡†ï¼›æ‰©å±•å.xsd

```xml
<?xml version="1.0" encoding="UTF-8"?>
<schema xmlns="http://www.w3.org/2001/XMLSchema">
	<element name="hr">
		<!-- complexTypeæ ‡ç­¾å«ä¹‰æ˜¯å¤æ‚èŠ‚ç‚¹ï¼ŒåŒ…å«å­èŠ‚ç‚¹æ—¶å¿…é¡»ä½¿ç”¨è¿™ä¸ªæ ‡ç­¾ -->
		<complexType>
			<!--sequenceåºåˆ—ï¼Œå­èŠ‚ç‚¹å¿…é¡»æŒ‰é¡ºåºå‰åä¸¥æ ¼ä¹¦å†™-->
			<sequence>
				<!--minOccursèŠ‚ç‚¹æœ€å°‘å‡ºç°æ¬¡æ•°ï¼ŒmaxOccursèŠ‚ç‚¹æœ€å¤šå‡ºç°æ¬¡æ•°-->
				<element name="employee" minOccurs="1" maxOccurs="9999">
					<complexType>
						<sequence>
							<element name="name" type="string"></element>
							<element name="age">
								<!--èŠ‚ç‚¹ç±»å‹è¯¦ç»†é™åˆ¶-->
								<simpleType>
									<restriction base="integer">
										<minInclusive value="18"></minInclusive>
										<maxInclusive value="60"></maxInclusive>
									</restriction>
								</simpleType>
							</element>
							<element name="salary" type="integer"></element>
							<element name="department">
								<complexType>
									<sequence>
										<element name="dname" type="string"></element>
										<element name="address" type="string"></element>
									</sequence>
								</complexType>
							</element>
						</sequence>
						<!--attributeå®šä¹‰å±æ€§ï¼Œrequiredè¡¨ç¤ºåœ¨ä»»æ„æ­¤èŠ‚ç‚¹ä¸‹è¿™ä¸ªå±æ€§å¿…é¡»å­˜åœ¨-->
						<attribute name="no" type="string" use="required"></attribute>	
					</complexType>
				</element>
			</sequence>
		</complexType>
	</element>	
</schema>


<!--xmlå¼•ç”¨xsdæ–‡ä»¶-->
<hr xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="hr.xsd">
```

6. DOMæ–‡æ¡£å¯¹è±¡æ¨¡å‹

<img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfffquniqvj30ye0e6wiq.jpg" alt="image-20200603214551959"  />

### XML è§£æ

**Dom4jç®€ä»‹**

Dom4jæ˜¯ä¸€ä¸ªæ˜“ç”¨çš„ã€å¼€æºçš„åº“ï¼Œç”¨äºè§£æXMLï¼›

Dom4jå°†XMLè§†ä¸ºDocumentå¯¹è±¡ï¼›

XMLæ ‡ç­¾è¢«Dom4jå®šä¹‰ä¸ºElementå¯¹è±¡ï¼›

**Dom4jéå†xml**

```java
public void readXml(){
    String file = "d:/workspace/xml/src/hr.xml";
    //SAXReaderç±»æ˜¯è¯»å–XMLæ–‡ä»¶çš„æ ¸å¿ƒç±»,ç”¨äºå°†XMLè§£æåä»¥â€œæ ‘â€çš„å½¢å¼ä¿å­˜åœ¨å†…å­˜ä¸­
    SAXReader reader = new SAXReader();
    try {
        Document document = reader.read(file);
        //è·å–XMLæ–‡æ¡£çš„æ ¹èŠ‚ç‚¹,å³hræ ‡ç­¾
        Element root = document.getRootElement();
        //elementsæ–¹æ³•ç”¨äºè·å–æŒ‡å®šçš„æ ‡ç­¾é›†åˆ
        List<Element> employees =  root.elements("employee");
        for(Element employee : employees){
            //elementæ–¹æ³•ç”¨äºè·å–å”¯ä¸€çš„å­èŠ‚ç‚¹å¯¹è±¡
            Element name = employee.element("name");
            String empName = name.getText();//getText()æ–¹æ³•ç”¨äºè·å–æ ‡ç­¾æ–‡æœ¬
            System.out.println(empName);
            System.out.println(employee.elementText("age"));
            Element department = employee.element("department");
            System.out.println(department.element("dname").getText());
            Attribute att = employee.attribute("no");
            System.out.println(att.getText());
        }
    } 
}
```

**Dom4jæ›´æ–°xml**

```java
public void writeXml(){
		String file = "d:/workspace/xml/src/hr.xml";
		SAXReader reader = new SAXReader();
		try {
			Document document = reader.read(file);
			Element root = document.getRootElement();
			Element employee = root.addElement("employee");
			employee.addAttribute("no", "3311");
			Element name = employee.addElement("name");
			name.setText("æé“æŸ±");
			employee.addElement("age").setText("37");
			employee.addElement("salary").setText("3600");
			Element department = employee.addElement("department");
			department.addElement("dname").setText("äººäº‹éƒ¨");
			department.addElement("address").setText("XXå¤§å¦-B105");
            //å°†åœ¨å†…å­˜ä¸­å¯¹xmlçš„æ›´æ–°å†™å…¥åˆ°xmlæ–‡ä»¶
			Writer writer = new OutputStreamWriter(new FileOutputStream(file) , "UTF-8");
			document.write(writer);
			writer.close();
		} 
	}
```

### XPathè·¯å¾„è¡¨è¾¾å¼

XPathè·¯å¾„è¡¨è¾¾å¼æ˜¯XMLæ–‡æ¡£ä¸­æŸ¥æ‰¾æ•°æ®çš„è¯­è¨€

**æœ€å¸¸ç”¨çš„åŸºæœ¬è¡¨è¾¾å¼**

| è¡¨è¾¾å¼   | æè¿°                                                         |
| -------- | ------------------------------------------------------------ |
| nodename | é€‰å–æ­¤èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚                                     |
| /        | ä»æ ¹èŠ‚ç‚¹é€‰å–ã€‚                                               |
| //       | ä»åŒ¹é…é€‰æ‹©çš„å½“å‰èŠ‚ç‚¹é€‰æ‹©æ–‡æ¡£ä¸­çš„èŠ‚ç‚¹,<br />è€Œä¸è€ƒè™‘å®ƒä»¬çš„ä½ç½®ã€‚ |
| .        | é€‰å–å½“å‰èŠ‚ç‚¹ã€‚                                               |
| ..       | é€‰å–å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚                                       |
| @        | é€‰å–å±æ€§ã€‚                                                   |

ç¤ºä¾‹

| è·¯å¾„è¡¨è¾¾å¼      | ç»“æœ                                                         |
| --------------- | ------------------------------------------------------------ |
| bookstore       | é€‰å–bookstoreå…ƒç´ çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚                              |
| /bookstore      | é€‰å–æ ¹å…ƒç´ bookstore.<br/>æ³¨é‡Š:å‡å¦‚è·¯å¾„èµ·å§‹äºæ­£æ–œæ (/),åˆ™æ­¤è·¯å¾„å§‹ç»ˆä»£è¡¨åˆ°æŸå…ƒç´ çš„ç»å¯¹è·¯å¾„! |
| bookstore/book  | é€‰å–å±äºbookstoreçš„å­å…ƒç´ çš„æ‰€æœ‰bookå…ƒç´ ã€‚                    |
| //book          | é€‰å–æ‰€æœ‰bookå­å…ƒç´ ,è€Œä¸ç®¡å®ƒä»¬åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®ã€‚                |
| bookstore//book | é€‰æ‹©å±äºbookstoreå…ƒç´ çš„åä»£çš„æ‰€æœ‰bookå…ƒç´ ,è€Œä¸ç®¡å®ƒä»¬ä½äºbookstoreä¹‹ä¸‹çš„ä»€ä¹ˆä½ç½®ã€‚ |
| //@lang         | é€‰å–åä¸ºlangçš„æ‰€æœ‰å±æ€§ã€‚                                     |

**XPathè°“è¯­è¡¨è¾¾å¼**

| è·¯å¾„è¡¨è¾¾å¼                         | ç»“æœ                                                         |
| ---------------------------------- | ------------------------------------------------------------ |
| /bookstore/book[1]                 | é€‰å–å±äºbookstoreå­å…ƒç´ çš„ç¬¬ä¸€ä¸ªbookå…ƒç´ ã€‚                    |
| /bookstore/book[last()]            | é€‰å–å±äºbookstoreå­å…ƒç´ çš„æœ€åä¸€ä¸ªbookå…ƒç´ ã€‚                  |
| /bookstore/book[last()-1]          | é€‰å–å±äºbookstoreå­å…ƒç´ çš„å€’æ•°ç¬¬äºŒä¸ªbookå…ƒç´ ã€‚                |
| /bookstore/books[position()<3]     | é€‰å–æœ€å‰é¢çš„ä¸¤ä¸ªå±äºbookstoreå…ƒç´ çš„å­å…ƒç´ çš„bookå…ƒç´           |
| //title[@lang]                     | é€‰å–æ‰€æœ‰æ‹¥æœ‰åä¸ºlangçš„å±æ€§çš„titleå…ƒç´ ã€‚                      |
| //title[@lang='eng']               | é€‰å–æ‰€æœ‰titleå…ƒç´ ,ä¸”è¿™äº›å…ƒç´ æ‹¥æœ‰å€¼ä¸ºengçš„langå±æ€§ã€‚          |
| /bookstore/book[price>35.00]       | é€‰å–bookstoreå…ƒç´ çš„æ‰€æœ‰bookå…ƒç´ ,ä¸”å…¶ä¸­çš„priceå…ƒç´ çš„å€¼é¡»å¤§äº35.00 |
| /bookstore/book[price>35.00]/title | é€‰å–bookstoreå…ƒç´ ä¸­çš„bookå…ƒç´ çš„æ‰€æœ‰titleå…ƒç´ ,ä¸”å…¶ä¸­çš„priceå…ƒç´ çš„å€¼é¡»å¤§äº35.00 |

**XPathåº”ç”¨**

```java
public class XPathTestor {
   public void xpath(String xpathExp){
      String file = "E:/lianxi/xml/hr.xml";
      SAXReader reader = new SAXReader();
      try {
         Document document = reader.read(file);
         //Nodeæ˜¯Elementå’ŒAttributeçš„çˆ¶ç±»ï¼Œåœ¨éœ€è¦å‡ºè¿›è¡Œç±»å‹è½¬æ¢
         List<Node> nodes = document.selectNodes(xpathExp);
         for(Node node : nodes){
            Element emp = (Element)node;
            System.out.println(emp.attributeValue("no"));
            System.out.println(emp.elementText("salary"));
         }      
      } catch (DocumentException e) {
         e.printStackTrace();
      }
   }   
   public static void main(String[] args) {
      XPathTestor testor = new XPathTestor();
//    testor.xpath("/hr/employee");
//    testor.xpath("//employee[salary<4000]");
//    testor.xpath("//employee[@no=3304]");
      testor.xpath("//employee[3] | //employee[8]");     
   }
}
```

