# 问题记录

## 数据类型

### 1.char、varchar、nchar、nvarchar

> char：  固定长度，存储ANSI字符，不足的补英文半角空格。
>
> nchar：  固定长度，存储Unicode字符，不足的补英文半角空格
>
> varchar： 可变长度，存储ANSI字符，根据数据长度自动变化。
>
> nvarchar： 可变长度，存储Unicode字符，根据数据长度自动变化。

注意：

```css
nvarchar(n) ：包含 n个字符的可变长度 Unicode 字符数据。n 的值必须介于 1 与 4,000 之间。字节的存储大小是所输入字符个数的两倍。所输入的数据字符长度可以为零。

varchar[(n)]：长度为 n 个字节的可变长度且非 Unicode的字符数据。n 必须是一个介于  1 和 8,000之间的数值。存储大小为输入数据的字节的实际长度，而不是 n 个字节。所输入的数据字符长度可以为零。

ANSI主要是以单字节来存储数据，一般适合英文。而我们常用的汉字需要用两个字节来存储，所以就要使用unicode的数据类型，不然读取出来的数据可能会乱码。

char(255)和varchar(255)：在存储字符串"hello world"时，char会用一块255个字节的空间放那个11个字符；而varchar就不会用255个，它先计算字符串长度为11，然后再加上一个记录字符串长度的字节，一共用12个字节存储，这样varchar在存储不确定长度的字符串时会大大减少存储空间。
```



## 随记

1. 外键：表B字段和表A主键字段之间的约束关系

> 如：message表中user_id字段与user表中id字段

2. sql server数据库排序规则

```sql
--中文乱码时，更改排序规则
CREATE DATABASE Student
COLLATE Chinese_PRC_CI_AS; 
```

3. 实体对象间的关系

> 需要从双向考虑，是一对多、多对一还是多对多