# 区块链

1. 狭义区块链：

   区块链是一种按照时间顺序将数据区块以顺序相连的方式组合成的一种链式数据结构，并以密码学方式保证的不可篡改和不可伪造的**分布式账本。**

2. 广义区块链：

   区块链技术是利用块链式数据结构来验证与存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学的方式保证数据传输和访问的安全、利用由自动化脚本代码组成的智能合约来编程和操作数据的**一种全新的分布式基础架构与计算范式。**

3. 比特币 VS 以太坊

   Bitcoin是伟大创举，Ethereum是天才设计，前者是从0到1跨时代的发明，后者带来了智能合约，深刻影响着传统经济观念。

4. 回溯：

   区块链使用了parent Hash（父区块的hash值）连接前一个区块，通过这个字段，所有的区块最终都能回溯到创世块。

5. 创世块：

   区块链由多个相连的区块构成，每个区块记录了一段时间内网络中数字货币的交易情况，可以将区块视为账簿中的帐页。第一个被最早构建的区块称为创世块，拥有一个唯一的ID标识号。除创世块外，每个后续建立的区块均包含两个ID号，一个是该区块自身的ID号，另一个是前序区块的ID号。通过ID号间的前后指向关系，所有区块按序相连就构成了区块链。

6. 以太坊的智能合约 VS BTC脚本：

   BTC的脚本执行过程可以看作一个原子操作，不存在中间状态。而以太坊的智能合约实际上是一个允许多人修改的状态机，每个区块包含对状态机进行修改的交易，所以智能合约有大量中间状态。交易保存在底层的levelDB中即区块中；而中间状态是一个巨大的state tie，保存在stateDB中。 

5. 什么是IBC：

   IBC是链间通信协议的缩写（Inter-Blockchain Communication Protocol）。通过数据包交换在多个不同的区块链网络之间转移数据和状态信息。IBC的目标是在两个独立的七层网络之间传递应用信息，所以需要链外的relay把数据包在链A和链B的网络之间做中继。为了让IBC协议能够工作，必须依赖基础的信任机制，要相信链A和链B里各自的共识算法，也要相信轻客户端验证，通过对区块头信息的验证，证明在区块链上曾经发生过的事情。

6. 区块链协议：

   协议是管理网络的一组规则。区块链协议通常包括共识、交易验证和网络参与的规则。

7. 区块链五大特征：

   ①去中心化

   ②可追溯性

   ③防篡改性：要改变区块链里面的信息，必须要51%的节点都改变，这难度非常大

   ④开放性：这是针对区块链共有链来讲的

   ⑤匿名性：它的算法实现以地址来寻址，而不是以个人身份

10. 比特币总量VS以太币总量

   ①BTC：总量2100万。10分钟出一个块，

   每挖出21万个块奖励发生一次减半，大约是每四年减半一次。

   ```css
   50 *21万(1 + 1/2 + (1/2)^2 + ……) ≈ 2100万
   ```

   > 2009年1月3日，中本聪挖出--创世区块，比特币网络诞生，奖励50。
   > 第一次减半：2012年11月28日，奖励25
   > 第二次减半：2016年7月10日，奖励12.5
   > 第二次减半：2020年5月12日，奖励6.25

   ②ETH：总量无上限。15s出一个块。

   奖励：普通块5eth+数块引用

   ```css
   以太币的总量存在形式：
   
   Pre-mine（矿前）+Block rewards（区块奖励）+Uncle rewards（叔块奖励）+Uncle referencing rewards（叔块引用奖励）
   ```

   > **矿前：**2014年7月/8月间，以太坊为众筹大约发行了7200万以太币。这些币有的时候被称之为“矿前”。众筹阶段之后，以太币每年的产量被限制在7200万以太币的25%（每年以太币的矿产量，不高于1800万）
   >
   > **区块奖励：**目前，每产生一个新区块就会产生5个新以太币。
   >
   > **叔块奖励：**每个叔块会为挖矿者产出大约4.375个以太币（5个以太币奖励的7/8）。
   >
   > **叔块引用奖励：**矿工每引用一个叔块，就得到了大约0.15个以太币（5个以太币奖励的1/32，最多引用两个叔块）

11. 关于挖矿：区块链中固定时间出一个块，无交易时便是空块。

# 比特币



# 以太坊

1. 以太坊升级路线：

	> https://eips.ethereum.org/

  | 区块高度  | 升级代号（English） | 升级代号（中文） | 北京时间   | 阶段(Egnlish) | 阶段（中文） |
  | --------- | ------------------- | ---------------- | ---------- | ------------- | ------------ |
  | -         | Olympic             | 奥林匹克         | 2015/5/9   | Frontier      | 前沿         |
  | 1         | Frontier            | 前沿             | 2015/7/30  |               |              |
  | 200,000   | Frontier Thrawing   | 前沿解冻         | 2015/9/7   |               |              |
  | 1,150,000 | HomeStead           | 家园             | 2016/3/14  | HomeStead     | 家园         |
  | 1,920,000 | DAO Fork            | DAO分叉          | 2016/7/20  |               |              |
  | 2,463,000 | Tangerine Whistle   | 橘子口哨         | 2016/10/18 |               |              |
  | 2,675,000 | Spurious Dragon     | 伪龙             | 2016/11/22 |               |              |
  | 4,370,000 | Byzantium           | 拜占庭           | 2017/10/16 | Metropolis    | 大都会       |
  | 7,280,000 | Constantinople      | 君士坦丁堡       | 2019/2/28  |               |              |
  | 9,069,000 | Istanbul            | 伊斯坦布尔       | 2019/12/8  | Serenity      | 宁静         |
  | 9,200,000 | Muir Glacier        | 谬尔冰川         | 2019/12/31 |               |              |
  | 待更新    | Berlin              | 柏林             | Jun-20     |               |              |
  | 待更新    | London              | 伦敦             |            |               |              |
  | 待更新    | Shanghai            | 上海             |            |               |              |

# Solidity

1. 在 Solidity 中，功能执行始终需要从外部调用者开始。 一个合约只会在区块链上什么也不做，除非有人调用其中的函数。
2. Getter函数：编译器自动为所有public状态变量创建getter函数。





# 临时记录

ERC-20---以太坊的代币编写标准

https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md

![AC2D18DA-0A15-445E-9918-D772AB0B3C37](https://tva1.sinaimg.cn/large/007S8ZIlly1ghhizofqlfj30g20200t5.jpg)

![21E745A4-188C-45D5-8F4B-ECCEC6732929](https://tva1.sinaimg.cn/large/007S8ZIlly1ghhizuwpxoj30nr03amy7.jpg)



![6B896FDE-1E05-4AAF-A257-9AB436E12E71](https://tva1.sinaimg.cn/large/007S8ZIlly1ghhj0n3ei8j30ko0anadr.jpg)

![4450A10E-90CD-4680-9224-5536632CCEA1](https://tva1.sinaimg.cn/large/007S8ZIlly1ghio88dnenj30lb07pdj7.jpg)

向大家请教问题,我在solidity中，当在设置了一个变量， 比如：mapping ( address => uint ) public _get; 时，即 加上public的，会自动通生成一个function _get() 的方法， 这个方法，在remix可以找到和调用，但我用 web3.js 无法调用，求解决，

Mapping、地址自动生成带参函数